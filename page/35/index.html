<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.143.1"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="Bluegill"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"><meta itemprop=image content="https://hxhue.github.io/imgs/371907.jpg"><meta itemprop=keywords content><meta name=google-site-verification content="hwfud_ndcnJHe2Jz7ClToP1nuUA3k7FqZv-0VpFAHjg"><link type=text/css rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css><link rel=stylesheet href=/css/main.min.bea76f574a755574e17d42bea39502a74ca3ca4db65807b8c82d3e26dcec8420.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ æˆ‘å¯æ˜¯æœ‰åº•çº¿çš„å“Ÿ ~"}</style><link rel=stylesheet type=text/css href=/css/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/github-markdown-css@5.3.0/github-markdown-dark.css><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script><script>MathJax={tex:{displayMath:[["$$","$$"],["\\[","\\]"]],inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}}</script><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: false });
  mermaid.mermaidAPI.initialize();
  window.mermaid = mermaid;
</script><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":true,"isPage":false,"path":"hxhue.github.io","permalink":"https://hxhue.github.io/","title":"Bluegill","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>Bluegill</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Bluegill</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description></p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class="hvr-icon-pulse menu-item-active" rel=section><i class="fa fa-home hvr-icon"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href=/about/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>å…³äº</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>å½’æ¡£</a></li><li class="menu-item menu-item-categories"><a href=/categories/ class=hvr-icon-pulse rel=section><i class="fa fa-th hvr-icon"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-hashtag hvr-icon"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-daily"><a href=/daily/ class=hvr-icon-pulse rel=section><i class="fa fa-newspaper hvr-icon"></i>éšç¬”</a></li><li class="menu-item menu-item-discovery"><a href=https://rift-fear-f2c.notion.site/2025-1e354a33cfb1802c841bdf29f2f3dab3 class=hvr-icon-pulse rel=section><i class="fa fa-compass hvr-icon"></i>å‘ç°</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>æœç´¢</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=æœç´¢... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>æ–‡ç« ç›®å½•</li><li class=sidebar-nav-overview>ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=ğŸ¤– src=/imgs/371907.jpg><p class=site-author-name itemprop=name>ğŸ¤–</p><div class=site-description itemprop=description>ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>433</span>
<span class=site-state-item-name>æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>12</span>
<span class=site-state-item-name>åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>86</span>
<span class=site-state-item-name>æ ‡ç­¾</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/hxhue title="Github â†’ https://github.com/hxhue" rel=noopener target=_blank><i class="fab fa-github fa-fw"></i>
Github
</a></span><span class=links-of-social-item><a href=/rss.xml title="RSS è®¢é˜… â†’ /rss.xml" rel=noopener target=_blank><i class="fa fa-rss fa-fw"></i>
RSS è®¢é˜…</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=å…±äº«çŸ¥è¯†><img src=/imgs/cc/big/by_nc_sa.svg alt=å…±äº«çŸ¥è¯†></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
å‹æƒ…é“¾æ¥</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://shuai.guru/ title=https://shuai.guru/ target=_blank>shuai.guru</a></li></ul></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=toggle-theme class=button title=æ·±æµ…æ¨¡å¼åˆ‡æ¢><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=è¿”å›é¡¶éƒ¨><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner index posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/posts/programming/cpp/cppreference-%E5%8D%8F%E7%A8%8B%E4%BE%8B%E5%AD%90%E7%90%86%E8%A7%A3/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="cppreference åç¨‹ä¾‹å­ç†è§£"><meta itemprop=description content="æˆ‘çš„ç†è§£æ˜¯ï¼šC++ çš„åç¨‹æ˜¯æ— æ ˆçš„ï¼Œè¿™æ„å‘³ç€åç¨‹åªæ˜¯è®¡ç®—ä»»åŠ¡ï¼Œä»…åœ¨è¿è¡Œæ—¶éœ€è¦æ ˆï¼Œåœ¨ suspend ä¹‹åå°±ä¼šä¿å­˜çŠ¶æ€å¹¶è„±ç¦»æ ˆã€‚è¦æƒ³è¦è·¨çº¿ç¨‹è½¬ç§»è®¡ç®—ä»»åŠ¡ï¼ˆæ¯”å¦‚å®ç°å·¥ä½œçªƒå–æ± ï¼‰ï¼Œåªéœ€è¦å°†ç¦»æ ˆåç¨‹åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸Š resume å³å¯ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/posts/programming/cpp/cppreference-%E5%8D%8F%E7%A8%8B%E4%BE%8B%E5%AD%90%E7%90%86%E8%A7%A3/ itemprop=url class=post-title-link>cppreference åç¨‹ä¾‹å­ç†è§£</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2024-04-08T00:00:00+08:00 itemprop=dateModified datetime=2024-04-08T00:00:00+08:00>2024-04-08</time></span></div></div></header><div class=post-body itemprop=articleBody><p>æˆ‘çš„ç†è§£æ˜¯ï¼šC++ çš„åç¨‹æ˜¯æ— æ ˆçš„ï¼Œè¿™æ„å‘³ç€åç¨‹åªæ˜¯è®¡ç®—ä»»åŠ¡ï¼Œä»…åœ¨è¿è¡Œæ—¶éœ€è¦æ ˆï¼Œåœ¨ suspend ä¹‹åå°±ä¼šä¿å­˜çŠ¶æ€å¹¶è„±ç¦»æ ˆã€‚è¦æƒ³è¦è·¨çº¿ç¨‹è½¬ç§»è®¡ç®—ä»»åŠ¡ï¼ˆæ¯”å¦‚å®ç°å·¥ä½œçªƒå–æ± ï¼‰ï¼Œåªéœ€è¦å°†ç¦»æ ˆåç¨‹åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸Š resume å³å¯ã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#719e07>#include</span> <span style=color:#719e07>&lt;coroutine&gt;</span><span style=color:#719e07>
</span></span></span><span style=display:flex><span><span style=color:#719e07>#include</span> <span style=color:#719e07>&lt;iostream&gt;</span><span style=color:#719e07>
</span></span></span><span style=display:flex><span><span style=color:#719e07>#include</span> <span style=color:#719e07>&lt;stdexcept&gt;</span><span style=color:#719e07>
</span></span></span><span style=display:flex><span><span style=color:#719e07>#include</span> <span style=color:#719e07>&lt;thread&gt;</span><span style=color:#719e07>
</span></span></span><span style=display:flex><span><span style=color:#719e07></span>
</span></span><span style=display:flex><span><span style=color:#719e07>auto</span> <span style=color:#268bd2>switch_to_new_thread</span>(std<span style=color:#719e07>::</span>jthread<span style=color:#719e07>&amp;</span> out)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#719e07>struct</span> <span style=color:#268bd2>awaitable</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        std<span style=color:#719e07>::</span>jthread<span style=color:#719e07>*</span> p_out;
</span></span><span style=display:flex><span>        <span style=color:#dc322f>bool</span> await_ready() { <span style=color:#719e07>return</span> <span style=color:#b58900>false</span>; }
</span></span><span style=display:flex><span>        <span style=color:#dc322f>void</span> await_suspend(std<span style=color:#719e07>::</span>coroutine_handle<span style=color:#719e07>&lt;&gt;</span> h)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            std<span style=color:#719e07>::</span>jthread<span style=color:#719e07>&amp;</span> out <span style=color:#719e07>=</span> <span style=color:#719e07>*</span>p_out;
</span></span><span style=display:flex><span>            <span style=color:#719e07>if</span> (out.joinable())
</span></span><span style=display:flex><span>                <span style=color:#719e07>throw</span> std<span style=color:#719e07>::</span>runtime_error(<span style=color:#2aa198>&#34;Output jthread parameter not empty&#34;</span>);
</span></span><span style=display:flex><span>            out <span style=color:#719e07>=</span> std<span style=color:#719e07>::</span>jthread([h] { h.resume(); });
</span></span><span style=display:flex><span>            <span style=color:#586e75>// Potential undefined behavior: accessing potentially destroyed *this
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>            <span style=color:#586e75>// std::cout &lt;&lt; &#34;New thread ID: &#34; &lt;&lt; p_out-&gt;get_id() &lt;&lt; &#39;\n&#39;;
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>            std<span style=color:#719e07>::</span>cout <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#34;New thread ID: &#34;</span> <span style=color:#719e07>&lt;&lt;</span> out.get_id() <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#39;\n&#39;</span>; <span style=color:#586e75>// this is OK
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>        }
</span></span><span style=display:flex><span>        <span style=color:#dc322f>void</span> await_resume() {}
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#719e07>return</span> awaitable{<span style=color:#719e07>&amp;</span>out};
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>struct</span> <span style=color:#268bd2>task</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#719e07>struct</span> <span style=color:#268bd2>promise_type</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        task <span style=color:#268bd2>get_return_object</span>() { <span style=color:#719e07>return</span> {}; }
</span></span><span style=display:flex><span>        std<span style=color:#719e07>::</span>suspend_never initial_suspend() { <span style=color:#719e07>return</span> {}; }
</span></span><span style=display:flex><span>        std<span style=color:#719e07>::</span>suspend_never final_suspend() <span style=color:#719e07>noexcept</span> { <span style=color:#719e07>return</span> {}; }
</span></span><span style=display:flex><span>        <span style=color:#dc322f>void</span> <span style=color:#268bd2>return_void</span>() {}
</span></span><span style=display:flex><span>        <span style=color:#dc322f>void</span> <span style=color:#268bd2>unhandled_exception</span>() {}
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>task <span style=color:#268bd2>resuming_on_new_thread</span>(std<span style=color:#719e07>::</span>jthread<span style=color:#719e07>&amp;</span> out)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std<span style=color:#719e07>::</span>cout <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#34;Coroutine started on thread: &#34;</span> <span style=color:#719e07>&lt;&lt;</span> std<span style=color:#719e07>::</span>this_thread<span style=color:#719e07>::</span>get_id() <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>co_await</span> switch_to_new_thread(out);
</span></span><span style=display:flex><span>    <span style=color:#586e75>// awaiter destroyed here
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    std<span style=color:#719e07>::</span>cout <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#34;Coroutine resumed on thread: &#34;</span> <span style=color:#719e07>&lt;&lt;</span> std<span style=color:#719e07>::</span>this_thread<span style=color:#719e07>::</span>get_id() <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#dc322f>int</span> <span style=color:#268bd2>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std<span style=color:#719e07>::</span>jthread out;
</span></span><span style=display:flex><span>    resuming_on_new_thread(out);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¯èƒ½ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-txt data-lang=txt><span style=display:flex><span>Coroutine started on thread: 139972277602112
</span></span><span style=display:flex><span>New thread ID: 139972267284224
</span></span><span style=display:flex><span>Coroutine resumed on thread: 139972267284224
</span></span></code></pre></div><p><img src=/assets/cpp_coroutine_resuming_on_new_thread%20(1).svg></p></div><footer class=post-footer><div readmore=false><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/posts/programming/cpp/cppreference-%E5%8D%8F%E7%A8%8B%E4%BE%8B%E5%AD%90%E7%90%86%E8%A7%A3/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/01-Function-Templates/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 01 Function Templates"><meta itemprop=description content="2023 å¹´ 5 æœˆ 7 æ—¥
ä¸¤ä¸ª type traits

std::decay_t å¯ä»¥å»å¼•ç”¨ã€å»é™å®šç¬¦ã€å‡½æ•°/æ•°ç»„å˜æŒ‡é’ˆï¼›std::common_type_t ç”¨ä¸‰å…ƒè¿ç®—ç¬¦è·å¾—æ›´â€œå®½æ³›â€ç±»å‹ã€‚
å‡½æ•°æ¨¡æ¿é»˜è®¤å‚æ•°

æ¨¡æ¿é»˜è®¤å‚æ•°å¯ä»¥æ”¾åœ¨æœ€å‰é¢ï¼Œä¸åƒæ™®é€šå‡½æ•°åªèƒ½æŠŠå¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°æ”¾åœ¨æœ€åã€‚è€Œä¸”å‡½æ•°æ¨¡æ¿å¯ä»¥æ˜ç¡®æŒ‡å®šå¼€å¤´å‡ ä¸ªå‚æ•°ï¼Œè®©åé¢çš„å‚æ•°ç”±æ¨å¯¼è§„åˆ™ç”Ÿæˆã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/01-Function-Templates/ itemprop=url class=post-title-link>CTTCG 01 Function Templates</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2024-04-08T00:00:00+08:00 itemprop=dateModified datetime=2024-04-08T00:00:00+08:00>2024-04-08</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><p>2023 å¹´ 5 æœˆ 7 æ—¥</p><h1 id=ä¸¤ä¸ª-type-traits>ä¸¤ä¸ª type traits
<a class=header-anchor href=#%e4%b8%a4%e4%b8%aa-type-traits></a></h1><p><code>std::decay_t</code> å¯ä»¥å»å¼•ç”¨ã€å»é™å®šç¬¦ã€å‡½æ•°/æ•°ç»„å˜æŒ‡é’ˆï¼›<code>std::common_type_t</code> ç”¨ä¸‰å…ƒè¿ç®—ç¬¦è·å¾—æ›´â€œå®½æ³›â€ç±»å‹ã€‚</p><h1 id=å‡½æ•°æ¨¡æ¿é»˜è®¤å‚æ•°>å‡½æ•°æ¨¡æ¿é»˜è®¤å‚æ•°
<a class=header-anchor href=#%e5%87%bd%e6%95%b0%e6%a8%a1%e6%9d%bf%e9%bb%98%e8%ae%a4%e5%8f%82%e6%95%b0></a></h1><p>æ¨¡æ¿é»˜è®¤å‚æ•°å¯ä»¥æ”¾åœ¨æœ€å‰é¢ï¼Œä¸åƒæ™®é€šå‡½æ•°åªèƒ½æŠŠå¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°æ”¾åœ¨æœ€åã€‚è€Œä¸”å‡½æ•°æ¨¡æ¿å¯ä»¥æ˜ç¡®æŒ‡å®šå¼€å¤´å‡ ä¸ªå‚æ•°ï¼Œè®©åé¢çš„å‚æ•°ç”±æ¨å¯¼è§„åˆ™ç”Ÿæˆã€‚</p><h1 id=å‡½æ•°é‡è½½å‚æ•°åŒ¹é…ä¼˜å…ˆçº§>å‡½æ•°é‡è½½å‚æ•°åŒ¹é…ä¼˜å…ˆçº§
<a class=header-anchor href=#%e5%87%bd%e6%95%b0%e9%87%8d%e8%bd%bd%e5%8f%82%e6%95%b0%e5%8c%b9%e9%85%8d%e4%bc%98%e5%85%88%e7%ba%a7></a></h1><h2 id=ä¼˜å…ˆçº§æ’åº>ä¼˜å…ˆçº§æ’åº
<a class=header-anchor href=#%e4%bc%98%e5%85%88%e7%ba%a7%e6%8e%92%e5%ba%8f></a></h2><ol><li>perfect match</li><li>decayï¼Œæˆ–è€…ä¿®æ”¹æŒ‡é’ˆçš„å†…å¤–å±‚ const å±æ€§ï¼ˆvolatile åº”è¯¥ä¹Ÿç®—å§ï¼Ÿï¼‰
æ¯”å¦‚ <code>char *</code> åˆ° <code>char const *</code></li><li>promotionï¼Œæ¯” int å°çš„è½¬åˆ° int æˆ–æ›´å¤§çš„æ•´æ•°ï¼Œæˆ–è€… float åˆ° doubleã€‚
ä¸¾ä¾‹ï¼šbool åˆ° char ä¸æ˜¯ promotionï¼Œè€Œæ˜¯ standard conversion</li><li>standard conversionï¼ŒåŒ…æ‹¬ <strong>int to float</strong>ï¼Œ<strong>å­ç±»ï¼ˆå€¼/å¼•ç”¨/æŒ‡é’ˆï¼‰å‘åŸºç±»ï¼ˆå€¼/å¼•ç”¨/æŒ‡é’ˆï¼‰è½¬æ¢</strong></li><li>ç”¨æˆ·å®šä¹‰çš„è½¬æ¢ï¼ŒåŒ…æ‹¬æ ‡å‡†åº“çš„ç±»</li><li>ä¸å¯å˜é•¿å‚æ•°åˆ—è¡¨åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯ <code>(...)</code>
ä¾‹å¤–ï¼š<code>f(...)</code> <strong>å’Œ</strong> <code>f(void)</code> <strong>å‚æ•°ç±»å‹æ˜¯åŒçº§åˆ«çš„</strong>ï¼Œå› ä¸ºæ²¡æœ‰æä¾›å‚æ•°ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“å“ªä¸€ä¸ªåŒ¹é…æ›´åˆé€‚ã€‚</li></ol><p>ä»¥ä¸Šå‚æ•°åŒ¹é…<strong>ä¸æ¶‰åŠåˆ°å€¼ç±»å‹ã€å·¦å¼•ç”¨ã€å³å¼•ç”¨çš„åŒºåˆ«</strong>ã€‚åªè¦å¼•ç”¨å±æ€§èƒ½å¤ŸåŒ¹é…ï¼Œå°±ä¸åŒºåˆ†ä¼˜å…ˆçº§ã€‚æ¯”å¦‚åŒæ—¶åŒ¹é…åˆ° <code>f(int)</code> å’Œ <code>f(int &)</code> ç¼–è¯‘å™¨å°±ä¼šæŠ±æ€¨å‡½æ•°è°ƒç”¨ ambiguousã€‚</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/01-Function-Templates/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/02-Class-Templates/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 02 Class Templates"><meta itemprop=description content="2023 å¹´ 5 æœˆ 7 æ—¥
å®šä¹‰ä½ç½®

ç±»æ¨¡æ¿åªèƒ½åœ¨å…¨å±€æˆ–è€…ç±»å£°æ˜ä¸­å®šä¹‰ï¼Œä¸èƒ½åœ¨å—æˆ–è€…å‡½æ•°ä¸­å®šä¹‰ã€‚
ç±»æ¨¡æ¿å¤–å‡½æ•°å®šä¹‰çš„å†™æ³•

ç±»æ¨¡æ¿ä¸­å®šä¹‰å‡½æ•°ï¼ŒT ç±»å‹å‚æ•°å¯ä»¥çœç•¥ï¼›åœ¨ç±»æ¨¡æ¿ä¸­å£°æ˜ï¼Œä½†åœ¨å¤–æä¾›å‡½æ•°å®šä¹‰ï¼Œå°±éœ€è¦åœ¨å®šä¹‰å¤„ç»™å‡ºå®Œæ•´çš„ç±»å‹å‚æ•°ï¼š"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/02-Class-Templates/ itemprop=url class=post-title-link>CTTCG 02 Class Templates</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><p>2023 å¹´ 5 æœˆ 7 æ—¥</p><h1 id=å®šä¹‰ä½ç½®>å®šä¹‰ä½ç½®
<a class=header-anchor href=#%e5%ae%9a%e4%b9%89%e4%bd%8d%e7%bd%ae></a></h1><p>ç±»æ¨¡æ¿åªèƒ½åœ¨å…¨å±€æˆ–è€…ç±»å£°æ˜ä¸­å®šä¹‰ï¼Œä¸èƒ½åœ¨å—æˆ–è€…å‡½æ•°ä¸­å®šä¹‰ã€‚</p><h1 id=ç±»æ¨¡æ¿å¤–å‡½æ•°å®šä¹‰çš„å†™æ³•>ç±»æ¨¡æ¿å¤–å‡½æ•°å®šä¹‰çš„å†™æ³•
<a class=header-anchor href=#%e7%b1%bb%e6%a8%a1%e6%9d%bf%e5%a4%96%e5%87%bd%e6%95%b0%e5%ae%9a%e4%b9%89%e7%9a%84%e5%86%99%e6%b3%95></a></h1><p>ç±»æ¨¡æ¿ä¸­å®šä¹‰å‡½æ•°ï¼ŒT ç±»å‹å‚æ•°å¯ä»¥çœç•¥ï¼›åœ¨ç±»æ¨¡æ¿ä¸­å£°æ˜ï¼Œä½†åœ¨å¤–æä¾›å‡½æ•°å®šä¹‰ï¼Œå°±éœ€è¦åœ¨å®šä¹‰å¤„ç»™å‡ºå®Œæ•´çš„ç±»å‹å‚æ•°ï¼š</p><p><code>template&lt;typename T> void Stack&lt;T /* ä¸èƒ½çœç•¥ */>::push (T const& elem) { /* impl */ }</code></p><p>ä¸€ä¸ªä¾‹å¤–æ˜¯ææ„å‡½æ•°å’Œæ„é€ å‡½æ•°çš„åç§°å¤„ï¼Œå› ä¸ºè¿™é‡Œä¸è¡¨ç±»å‹ï¼Œè€Œæ˜¯è¡¨ç¤ºå‡½æ•°åã€‚</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/02-Class-Templates/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/03-Nontype-Template-Parameters/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 03 Nontype Template Parameters"><meta itemprop=description content="æ¨¡æ¿å‚æ•°ä¹Ÿå¯ä»¥ä¸æ˜¯ç±»å‹ï¼Œè€Œæ˜¯å€¼ã€‚
éç±»å‹å‚æ•°æ¨å¯¼åªå¯¹ç›´æ¥è°ƒç”¨æœ‰æ•ˆ

æ¨¡æ¿å‡½æ•°çš„ç±»å‹æ¨å¯¼åªå¯¹ç«‹å³è°ƒç”¨æœ‰æ•ˆï¼Œè€Œå¯¹ç®—æ³•æ¨¡æ¿è¿™ç±»éœ€è¦æå‰çŸ¥é“ç±»å‹ä¿¡æ¯çš„åœºåˆæ— æ•ˆã€‚æ¯”å¦‚ï¼š
std::transform (source.begin(), source.end(), // start and end of source
                dest.begin(),     // start of destination
                addValue<5,int>); // operation
ä¸Šé¢ä»£ç ä¸­å°½ç®¡ addValue çš„å‚æ•°å¯èƒ½å¯ä»¥æ¨å¯¼å‡ºæ¥ï¼Œä½†ç”±äº std::transform è¦æ±‚æå‰çŸ¥é“å‡½æ•°çš„ç±»å‹ï¼Œå»æ‰å‚æ•°ä¹‹åä»£ç æ— æ³•ç¼–è¯‘ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/03-Nontype-Template-Parameters/ itemprop=url class=post-title-link>CTTCG 03 Nontype Template Parameters</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><p>æ¨¡æ¿å‚æ•°ä¹Ÿå¯ä»¥ä¸æ˜¯ç±»å‹ï¼Œè€Œæ˜¯å€¼ã€‚</p><h1 id=éç±»å‹å‚æ•°æ¨å¯¼åªå¯¹ç›´æ¥è°ƒç”¨æœ‰æ•ˆ>éç±»å‹å‚æ•°æ¨å¯¼åªå¯¹ç›´æ¥è°ƒç”¨æœ‰æ•ˆ
<a class=header-anchor href=#%e9%9d%9e%e7%b1%bb%e5%9e%8b%e5%8f%82%e6%95%b0%e6%8e%a8%e5%af%bc%e5%8f%aa%e5%af%b9%e7%9b%b4%e6%8e%a5%e8%b0%83%e7%94%a8%e6%9c%89%e6%95%88></a></h1><p>æ¨¡æ¿å‡½æ•°çš„ç±»å‹æ¨å¯¼åªå¯¹ç«‹å³è°ƒç”¨æœ‰æ•ˆï¼Œè€Œå¯¹ç®—æ³•æ¨¡æ¿è¿™ç±»éœ€è¦æå‰çŸ¥é“ç±»å‹ä¿¡æ¯çš„åœºåˆæ— æ•ˆã€‚æ¯”å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span>std<span style=color:#719e07>::</span>transform (source.begin(), source.end(), <span style=color:#586e75>// start and end of source
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>                dest.begin(),     <span style=color:#586e75>// start of destination
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>                addValue<span style=color:#719e07>&lt;</span><span style=color:#2aa198>5</span>,<span style=color:#dc322f>int</span><span style=color:#719e07>&gt;</span>); <span style=color:#586e75>// operation
</span></span></span></code></pre></div><p>ä¸Šé¢ä»£ç ä¸­å°½ç®¡ <code>addValue</code> çš„å‚æ•°å¯èƒ½å¯ä»¥æ¨å¯¼å‡ºæ¥ï¼Œä½†ç”±äº <code>std::transform</code> è¦æ±‚æå‰çŸ¥é“å‡½æ•°çš„ç±»å‹ï¼Œå»æ‰å‚æ•°ä¹‹åä»£ç æ— æ³•ç¼–è¯‘ã€‚</p><h1 id=éç±»å‹å‚æ•°çš„ç±»å‹é™åˆ¶>éç±»å‹å‚æ•°çš„ç±»å‹é™åˆ¶
<a class=header-anchor href=#%e9%9d%9e%e7%b1%bb%e5%9e%8b%e5%8f%82%e6%95%b0%e7%9a%84%e7%b1%bb%e5%9e%8b%e9%99%90%e5%88%b6></a></h1><p><strong>éç±»å‹å‚æ•°ä¸èƒ½æ˜¯æµ®ç‚¹æ•°ï¼ˆæœªæ¥å¯èƒ½å¯ä»¥ï¼‰ã€‚åªèƒ½æ˜¯æ•´æ•°ã€nullptrã€æŒ‡é’ˆæˆ–å·¦å€¼å¼•ç”¨ã€‚</strong></p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/03-Nontype-Template-Parameters/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/04-Variadic-Templates/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 04 Variadic Templates"><meta itemprop=description content="
  å¯å˜é•¿è¡¨è¾¾å¼å¯ä»¥å¯¹å‚æ•°åŒ…é€ä¸ªå¤„ç†ã€‚ä¸æŠ˜å è¡¨è¾¾å¼ï¼ˆç›¸å½“äºå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ reduceï¼Œä½†å¦‚æœç”¨ä¸Šé€—å·è¡¨è¾¾å¼å°±èƒ½è¡¨è¾¾ foreachï¼‰ä¸åŒï¼Œå¯å˜é•¿è¡¨è¾¾å¼ï¼ˆç›¸å½“äºå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ mapï¼‰ä¸ä¼šæ”¹å˜å‚æ•°æ•°é‡ï¼Œå…è®¸çš„å½¢å¼ä¹Ÿæ¯”æŠ˜å è¡¨è¾¾å¼å®½æ¾ä¸€ç‚¹ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/04-Variadic-Templates/ itemprop=url class=post-title-link>CTTCG 04 Variadic Templates</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2024-05-14T00:00:00+08:00 itemprop=dateModified datetime=2024-05-14T00:00:00+08:00>2024-05-14</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><blockquote><p>å¯å˜é•¿è¡¨è¾¾å¼å¯ä»¥å¯¹å‚æ•°åŒ…é€ä¸ªå¤„ç†ã€‚ä¸æŠ˜å è¡¨è¾¾å¼ï¼ˆç›¸å½“äºå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ <strong>reduce</strong>ï¼Œä½†å¦‚æœç”¨ä¸Šé€—å·è¡¨è¾¾å¼å°±èƒ½è¡¨è¾¾ <strong>foreach</strong>ï¼‰ä¸åŒï¼Œå¯å˜é•¿è¡¨è¾¾å¼ï¼ˆç›¸å½“äºå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ <strong>map</strong>ï¼‰ä¸ä¼šæ”¹å˜å‚æ•°æ•°é‡ï¼Œå…è®¸çš„å½¢å¼ä¹Ÿæ¯”æŠ˜å è¡¨è¾¾å¼å®½æ¾ä¸€ç‚¹ã€‚</p></blockquote><h1 id=å‚æ•°åŒ…parameter-packå’Œå¯å˜é•¿æ¨¡æ¿>å‚æ•°åŒ…ï¼ˆParameter Packï¼‰å’Œå¯å˜é•¿æ¨¡æ¿
<a class=header-anchor href=#%e5%8f%82%e6%95%b0%e5%8c%85parameter-pack%e5%92%8c%e5%8f%af%e5%8f%98%e9%95%bf%e6%a8%a1%e6%9d%bf></a></h1><p>æ¨¡æ¿å‡½æ•°å¯ä»¥æŒ‡å®šå‚æ•°åŒ…ï¼Œç”¨ <code>sizeofâ€¦()</code> è¿ç®—ç¬¦å¯ä»¥è·å¾—å‚æ•°åŒ…çš„æ•°é‡ã€‚<strong>è‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°åŒ…çš„æ¨¡æ¿ç§°ä¸ºå¯å˜é•¿æ¨¡æ¿ï¼ˆvariadic templateï¼‰</strong>ã€‚</p><h2 id=0-pack-expansionå‚æ•°ä¼ é€’>0 Pack Expansionï¼šå‚æ•°ä¼ é€’
<a class=header-anchor href=#0-pack-expansion%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92></a></h2><p>å‚æ•°ä¼ é€’ã€‚</p><div class="markdown-alert markdown-alert-note"><p class=markdown-alert-title><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1116 0A8 8 0 010 8zm8-6.5a6.5 6.5.0 100 13 6.5 6.5.0 000-13zM6.5 7.75A.75.75.0 017.25 7h1a.75.75.0 01.75.75v2.75h.25a.75.75.0 010 1.5h-2a.75.75.0 010-1.5h.25v-2h-.25a.75.75.0 01-.75-.75zM8 6a1 1 0 110-2 1 1 0 010 2z"/></svg>Note</p><p>2024 å¹´ 2 æœˆ 20 æ—¥ï¼šé™¤äº†ä½œä¸ºå‡½æ•°å‚æ•°ä¹‹å¤–ï¼Œè¿˜èƒ½ç”¨ä½œåˆå§‹åŒ–åˆ—è¡¨ï¼ˆèŠ±æ‹¬å·ï¼‰çš„å‚æ•°ã€‚</p></div><h2 id=1-é€’å½’é€ä¸ªå¤„ç†>1 é€’å½’ï¼šé€ä¸ªå¤„ç†
<a class=header-anchor href=#1-%e9%80%92%e5%bd%92%e9%80%90%e4%b8%aa%e5%a4%84%e7%90%86></a></h2><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#719e07>#include</span> <span style=color:#719e07>&lt;iostream&gt;</span><span style=color:#719e07>
</span></span></span><span style=display:flex><span><span style=color:#719e07></span><span style=color:#dc322f>void</span> <span style=color:#268bd2>print</span> ()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>template</span><span style=color:#719e07>&lt;</span><span style=color:#719e07>typename</span> T, <span style=color:#719e07>typename</span>... Types<span style=color:#719e07>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#dc322f>void</span> print (T firstArg, Types... args)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std<span style=color:#719e07>::</span>cout <span style=color:#719e07>&lt;&lt;</span> firstArg <span style=color:#719e07>&lt;&lt;</span> <span style=color:#2aa198>&#39;\n&#39;</span>; <span style=color:#586e75>// print first argument
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    print(args...);                <span style=color:#586e75>// call print() for remaining arguments
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>}
</span></span></code></pre></div></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/04-Variadic-Templates/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/05-Tricky-Basics/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 05 Tricky Basics"><meta itemprop=description content="1 ä½¿ç”¨å…³é”®å­—å¼•å¯¼ç¼–è¯‘å™¨äº†è§£æˆå‘˜ç±»å‹

template<typename T>
class MyClass {
public:
    void foo() {
        typename T::SubType* ptr;
    }
}
ä¸Šé¢çš„çš„ä»£ç ä¸­åŠ äº† typename å…³é”®å­—ç”¨æ¥è¡¨ç¤º SubType è¿™ä¸ªæˆå‘˜æ˜¯ä¸€ä¸ªç±»å‹ã€‚å¦åˆ™ç”±äºç¼ºä¹ç±»å‹ä¿¡æ¯ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸ºè¯¥æˆå‘˜æ˜¯æŸä¸ªæ•°æ®åŸŸï¼Œä»è€Œæ„æˆäº†ä¹˜æ³•è¡¨è¾¾å¼ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/05-Tricky-Basics/ itemprop=url class=post-title-link>CTTCG 05 Tricky Basics</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2025-03-08T00:00:00+08:00 itemprop=dateModified datetime=2025-03-08T00:00:00+08:00>2025-03-08</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=1-ä½¿ç”¨å…³é”®å­—å¼•å¯¼ç¼–è¯‘å™¨äº†è§£æˆå‘˜ç±»å‹>1 ä½¿ç”¨å…³é”®å­—å¼•å¯¼ç¼–è¯‘å™¨äº†è§£æˆå‘˜ç±»å‹
<a class=header-anchor href=#1-%e4%bd%bf%e7%94%a8%e5%85%b3%e9%94%ae%e5%ad%97%e5%bc%95%e5%af%bc%e7%bc%96%e8%af%91%e5%99%a8%e4%ba%86%e8%a7%a3%e6%88%90%e5%91%98%e7%b1%bb%e5%9e%8b></a></h1><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#719e07>template</span><span style=color:#719e07>&lt;</span><span style=color:#719e07>typename</span> T<span style=color:#719e07>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#719e07>class</span> <span style=color:#268bd2>MyClass</span> {
</span></span><span style=display:flex><span><span style=color:#719e07>public</span><span style=color:#719e07>:</span>
</span></span><span style=display:flex><span>    <span style=color:#dc322f>void</span> foo() {
</span></span><span style=display:flex><span>        <span style=color:#719e07>typename</span> T<span style=color:#719e07>::</span>SubType<span style=color:#719e07>*</span> ptr;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¸Šé¢çš„çš„ä»£ç ä¸­åŠ äº† <code>typename</code> å…³é”®å­—ç”¨æ¥è¡¨ç¤º <code>SubType</code> è¿™ä¸ªæˆå‘˜æ˜¯ä¸€ä¸ªç±»å‹ã€‚å¦åˆ™ç”±äºç¼ºä¹ç±»å‹ä¿¡æ¯ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸ºè¯¥æˆå‘˜æ˜¯æŸä¸ªæ•°æ®åŸŸï¼Œä»è€Œæ„æˆäº†ä¹˜æ³•è¡¨è¾¾å¼ã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#719e07>template</span><span style=color:#719e07>&lt;</span><span style=color:#dc322f>unsigned</span> <span style=color:#dc322f>long</span> N<span style=color:#719e07>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#dc322f>void</span> printBitset (std<span style=color:#719e07>::</span>bitset<span style=color:#719e07>&lt;</span>N<span style=color:#719e07>&gt;</span> <span style=color:#719e07>const</span><span style=color:#719e07>&amp;</span> bs) {
</span></span><span style=display:flex><span>    std<span style=color:#719e07>::</span>cout <span style=color:#719e07>&lt;&lt;</span> bs.<span style=color:#719e07>template</span> to_string<span style=color:#719e07>&lt;</span><span style=color:#dc322f>char</span>, std<span style=color:#719e07>::</span>char_traits<span style=color:#719e07>&lt;</span><span style=color:#dc322f>char</span><span style=color:#719e07>&gt;</span>, std<span style=color:#719e07>::</span>allocator<span style=color:#719e07>&lt;</span><span style=color:#dc322f>char</span><span style=color:#719e07>&gt;&gt;</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¸Šé¢çš„ template å…³é”®å­—åœ¨ <code>to_string</code> å‰ä½œè§£é‡Šï¼Œè¡¨ç¤º <code>to_string</code> æ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œå¦åˆ™åé¢çš„å°–æ‹¬å·ä¼šè¢«è®¤ä¸ºæ˜¯å°äºè¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯å‡½æ•°æ¨¡æ¿å‚æ•°çš„å¼€å§‹æ ‡å¿—ã€‚</p><h1 id=2-æ­£ç¡®åˆå§‹åŒ–æ¨¡æ¿ç±»çš„æˆå‘˜>2 æ­£ç¡®åˆå§‹åŒ–æ¨¡æ¿ç±»çš„æˆå‘˜
<a class=header-anchor href=#2-%e6%ad%a3%e7%a1%ae%e5%88%9d%e5%a7%8b%e5%8c%96%e6%a8%a1%e6%9d%bf%e7%b1%bb%e7%9a%84%e6%88%90%e5%91%98></a></h1><p>åœ¨æ¨¡æ¿ç±»ä¸­ä¸ºäº†ä¿è¯æˆå‘˜è¢«æ­£ç¡®åˆå§‹åŒ–ï¼Œåº”è¯¥ä½¿ç”¨ {} åˆå§‹åŒ–çš„è¯­æ³•ï¼Œå› ä¸ºæ— è®º T æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿™ç§åˆå§‹åŒ–æ–¹å¼éƒ½æ˜¯å¯è¡Œçš„ã€‚æ­¤å¤– {} ä¹Ÿèƒ½ç”¨åœ¨æ•°æ®æˆå‘˜å®šä¹‰å¤„ï¼Œæˆ–è€…æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼š</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/05-Tricky-Basics/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/06-Move-Semantics-and-enable_if/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 06 Move Semantics and enable_if"><meta itemprop=description content="Perfect forwarding:
template<typename T>
void f (T&& val) {
    g(std::forward<T>(val)); // perfect forward val to g()
}
æ³¨æ„ï¼Œå®Œç¾è½¬å‘åªå¯¹æ¨¡æ¿å‚æ•°æœ‰æ•ˆï¼Œå¯¹ä¾èµ–äºæ¨¡æ¿å‚æ•°çš„ç±»å‹ä¹Ÿæ˜¯æ— æ•ˆçš„ï¼Œæ¯”å¦‚ï¼štypename T::iterator&& æ˜¯æ— æ•ˆçš„ï¼Œä»è¡¨ç¤ºä¸¥æ ¼çš„å³å€¼å¼•ç”¨ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/06-Move-Semantics-and-enable_if/ itemprop=url class=post-title-link>CTTCG 06 Move Semantics and enable_if</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><p>Perfect forwarding:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#719e07>template</span><span style=color:#719e07>&lt;</span><span style=color:#719e07>typename</span> T<span style=color:#719e07>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#dc322f>void</span> f (T<span style=color:#719e07>&amp;&amp;</span> val) {
</span></span><span style=display:flex><span>    g(std<span style=color:#719e07>::</span>forward<span style=color:#719e07>&lt;</span>T<span style=color:#719e07>&gt;</span>(val)); <span style=color:#586e75>// perfect forward val to g()
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>}
</span></span></code></pre></div><p>æ³¨æ„ï¼Œå®Œç¾è½¬å‘åªå¯¹æ¨¡æ¿å‚æ•°æœ‰æ•ˆï¼Œå¯¹ä¾èµ–äºæ¨¡æ¿å‚æ•°çš„ç±»å‹ä¹Ÿæ˜¯æ— æ•ˆçš„ï¼Œæ¯”å¦‚ï¼š<code>typename T::iterator&&</code> æ˜¯æ— æ•ˆçš„ï¼Œä»è¡¨ç¤ºä¸¥æ ¼çš„å³å€¼å¼•ç”¨ã€‚</p><p>å®Œç¾è½¬å‘ä¹Ÿä¸èƒ½åŠ  const å±æ€§ã€‚æ·»åŠ  const å±æ€§åè¡¨ç¤ºå¸¸å³å€¼å¼•ç”¨ï¼ˆè€Œä¸”è¿™ç§å½¢å¼å¾ˆå°‘è¢«ä½¿ç”¨ï¼‰ã€‚</p><h1 id=å°è¯•ç”¨å®Œç¾è½¬å‘ç®€åŒ–ä»£ç >å°è¯•ç”¨å®Œç¾è½¬å‘ç®€åŒ–ä»£ç 
<a class=header-anchor href=#%e5%b0%9d%e8%af%95%e7%94%a8%e5%ae%8c%e7%be%8e%e8%bd%ac%e5%8f%91%e7%ae%80%e5%8c%96%e4%bb%a3%e7%a0%81></a></h1><p>è®¾æƒ³ä¸€ä¸ª Person ç±»ï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ª <code>std::string</code> ç±»å‹çš„ name æ•°æ®ã€‚å·²ç»å®ç°äº†å¤åˆ¶æ„é€ å‡½æ•°å’Œç§»åŠ¨æ„é€ å‡½æ•°ã€‚ä»æ•°æ®çš„æ„é€ å‡½æ•°æœ‰ <code>std::string &&</code> å’Œ <code>std::string const &</code> ä¸¤ä¸ªé‡è½½ç‰ˆæœ¬ã€‚ä½¿ç”¨å®Œç¾è½¬å‘å¯ä»¥åŒæ—¶å†™å‡ºåŒ¹é…è¿™ä¸¤ç§å‚æ•°çš„å‡½æ•°æ¨¡æ¿ï¼Œå‡å°‘ä»£ç é‡ã€‚</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/06-Move-Semantics-and-enable_if/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/07-By-Value-or-by-Reference/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 07 By Value or by Reference"><meta itemprop=description content="ä¼ å€¼ï¼šT

æœ‰ decayã€‚
ä¼ å·¦å€¼å¼•ç”¨ï¼šT &

æ³¨æ„é‡åˆ°æ•°ç»„æ—¶å¯èƒ½éœ€è¦ decayã€‚
æ³¨æ„ T ç±»å‹å¯èƒ½æ˜¯å¸¸é‡ï¼Œå¯¼è‡´ T & å…¶å®æ˜¯å¸¸å¼•ç”¨ã€‚è¿™æ ·çš„å‚æ•°ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå› è€Œä¸èƒ½ä½œä¸ºä¼ å‡ºå‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ concept é™å®šå‚æ•°éå¸¸é‡ï¼š"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/07-By-Value-or-by-Reference/ itemprop=url class=post-title-link>CTTCG 07 By Value or by Reference</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2024-04-08T00:00:00+08:00 itemprop=dateModified datetime=2024-04-08T00:00:00+08:00>2024-04-08</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=ä¼ å€¼t>ä¼ å€¼ï¼š<code>T</code>
<a class=header-anchor href=#%e4%bc%a0%e5%80%bct></a></h1><p>æœ‰ decayã€‚</p><h1 id=ä¼ å·¦å€¼å¼•ç”¨t->ä¼ å·¦å€¼å¼•ç”¨ï¼š<code>T &</code>
<a class=header-anchor href=#%e4%bc%a0%e5%b7%a6%e5%80%bc%e5%bc%95%e7%94%a8t-></a></h1><p>æ³¨æ„é‡åˆ°æ•°ç»„æ—¶å¯èƒ½éœ€è¦ decayã€‚</p><p>æ³¨æ„ <code>T</code> ç±»å‹å¯èƒ½æ˜¯å¸¸é‡ï¼Œå¯¼è‡´ <code>T &</code> å…¶å®æ˜¯å¸¸å¼•ç”¨ã€‚è¿™æ ·çš„å‚æ•°ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå› è€Œä¸èƒ½ä½œä¸ºä¼ å‡ºå‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ concept é™å®šå‚æ•°éå¸¸é‡ï¼š</p><p><img src=/assets/e66f40f02b68770a1db6edfa2aed29f9.webp></p><h1 id=ä¼ è½¬å‘å¼•ç”¨t->ä¼ è½¬å‘å¼•ç”¨ï¼š<code>T &&</code>
<a class=header-anchor href=#%e4%bc%a0%e8%bd%ac%e5%8f%91%e5%bc%95%e7%94%a8t-></a></h1><p>è¿™æ˜¯ T å”¯ä¸€å¯èƒ½åŒ¹é…åˆ°å¼•ç”¨ç±»å‹çš„æƒ…å†µã€‚å¦‚æœ T æœ¬èº«å°±æ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±ä¸èƒ½ç”¨å®ƒåˆ›å»ºå€¼ç±»å‹çš„åŒç±»æ•°æ®ã€‚è§£å†³æ–¹æ³•æœ‰ï¼šâ‘  ç”¨ type traits å»é™¤å¼•ç”¨å±æ€§ â‘¡ ä½¿ç”¨ autoï¼Œå› ä¸º auto é»˜è®¤ä¸ä¼šåŒ¹é…åˆ°å¼•ç”¨ã€‚</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/07-By-Value-or-by-Reference/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/08-Compile-Time-Programming/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 08 Compile-Time Programming"><meta itemprop=description content="æ¨¡æ¿å…ƒç¼–ç¨‹

ç•¥ã€‚
constexpr å‡½æ•°

åœ¨ C++11 ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¡è¯­å¥ï¼Œè€Œåœ¨ C++14 ä¹‹åå¯ä»¥ä½¿ç”¨çš„è¯­å¥å˜å¾—ä¸°å¯Œã€‚constexpr å‡½æ•°å…è®¸ç¼–è¯‘æœŸä¼˜åŒ–ï¼Œä½†ä¸é˜»æ­¢è¿è¡ŒæœŸä½¿ç”¨ã€‚ä½œä¸ºå¯¹æ¯”ï¼ŒC++20 consteval åªèƒ½åœ¨ç¼–è¯‘æœŸä½¿ç”¨ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/08-Compile-Time-Programming/ itemprop=url class=post-title-link>CTTCG 08 Compile-Time Programming</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2024-04-08T00:00:00+08:00 itemprop=dateModified datetime=2024-04-08T00:00:00+08:00>2024-04-08</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=æ¨¡æ¿å…ƒç¼–ç¨‹>æ¨¡æ¿å…ƒç¼–ç¨‹
<a class=header-anchor href=#%e6%a8%a1%e6%9d%bf%e5%85%83%e7%bc%96%e7%a8%8b></a></h1><p>ç•¥ã€‚</p><h1 id=constexpr-å‡½æ•°><code>constexpr</code> å‡½æ•°
<a class=header-anchor href=#constexpr-%e5%87%bd%e6%95%b0></a></h1><p>åœ¨ C++11 ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¡è¯­å¥ï¼Œè€Œåœ¨ C++14 ä¹‹åå¯ä»¥ä½¿ç”¨çš„è¯­å¥å˜å¾—ä¸°å¯Œã€‚<code>constexpr</code> å‡½æ•°å…è®¸ç¼–è¯‘æœŸä¼˜åŒ–ï¼Œä½†ä¸é˜»æ­¢è¿è¡ŒæœŸä½¿ç”¨ã€‚ä½œä¸ºå¯¹æ¯”ï¼ŒC++20 <code>consteval</code> åªèƒ½åœ¨ç¼–è¯‘æœŸä½¿ç”¨ã€‚</p><p>åº”ç”¨ï¼še.g. å¸¸é‡è¡¨è¾¾å¼å‡½æ•°å¯ä»¥è®¡ç®—å‡ºä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦ä¸ºç´ æ•°ï¼Œä»¥æ­¤åšä¸ºå¦ä¸€ä¸ªæ¨¡æ¿ç±»åç‰¹åŒ–çš„ä¾æ®ã€‚</p><h1 id=sfinae>SFINAE
<a class=header-anchor href=#sfinae></a></h1><p><code>substitution failure is not an error</code></p><p>æœ‰ä¸€äº›åœ°æ–¹éœ€è¦æ³¨æ„ï¼šå¯»æ‰¾å‡½æ•° candidates æ—¶åªä¼šè€ƒè™‘å‡½æ•°æ¨¡æ¿çš„å‡½æ•°ç­¾åï¼Œä¸ä¼šè€ƒè™‘å‡½æ•°ä½“ã€‚ç”¨ C++14 auto çœç•¥æ‰è¿”å›å€¼ç±»å‹ä¹‹åï¼Œä¹Ÿä¸ä¼šè€ƒè™‘è¿”å›å€¼ç±»å‹ã€‚å¦‚æœåŒ¹é…å®Œæˆä¹‹åå‡½æ•°ä½“ä¸èƒ½ç¼–è¯‘ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/08-Compile-Time-Programming/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/cpp-templates-the-complete-guide/09-Using-Templates-in-Practice/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CTTCG 09 Using Templates in Practice"><meta itemprop=description content="åŒ…å«æ¨¡å‹ - The Inclusion Model

é€šå¸¸æ¨¡æ¿éœ€è¦è¢«åŒ…å«åœ¨å¤´æ–‡ä»¶ä¸­å·¥ä½œã€‚
æ³¨æ„ï¼šå‡½æ•°æ¨¡æ¿å®Œå…¨ç‰¹åŒ–ä¹‹åä¹Ÿéœ€è¦ inline æ‰èƒ½å¤Ÿåœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸åŒçš„ç¿»è¯‘å•å…ƒæœ‰é‡å¤å®šä¹‰çš„æƒ…å†µã€‚
æ”¹è¿›ä¸€ï¼šprecompiled headers

å¯ä»¥æŠŠ pch ç†è§£ä¸ºç¼–è¯‘å™¨ä¸­é—´å·¥ä½œçŠ¶æ€çš„ä¸€ä¸ª dumpã€‚ç¼–è¯‘å™¨å¯ä»¥åœ¨è¯»å–åˆ°æŸäº›æºä»£ç ä¹‹åä¿å­˜å…¶çŠ¶æ€ï¼ŒåŒ…æ‹¬ç¬¦å·è¡¨ç­‰ã€‚å¦‚æœä¸¤ä¸ªæ–‡ä»¶ä¸­æœ‰å…¬å…±çš„å‰ç¼€ä»£ç ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ ‡å‡†åº“çš„å¤´æ–‡ä»¶å°±åŒ…å«äº†æ•°åƒè¡Œå…¬å…±ä»£ç ï¼‰ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥è¯»å–é¢„å…ˆä¿å­˜çš„çŠ¶æ€ï¼Œä»è€Œè·³è¿‡å¯¹äºè¿™äº›ä»£ç çš„å¤„ç†ã€‚"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/cpp-templates-the-complete-guide/09-Using-Templates-in-Practice/ itemprop=url class=post-title-link>CTTCG 09 Using Templates in Practice</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-12 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-08-12 00:00:00 +0800 CST">2023-08-12
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/cpp-templates-the-complete-guide itemprop=url rel=index><span itemprop=name>cpp-templates-the-complete-guide</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=åŒ…å«æ¨¡å‹---the-inclusion-model>åŒ…å«æ¨¡å‹ - The Inclusion Model
<a class=header-anchor href=#%e5%8c%85%e5%90%ab%e6%a8%a1%e5%9e%8b---the-inclusion-model></a></h1><p>é€šå¸¸æ¨¡æ¿éœ€è¦è¢«åŒ…å«åœ¨å¤´æ–‡ä»¶ä¸­å·¥ä½œã€‚</p><p>æ³¨æ„ï¼šå‡½æ•°æ¨¡æ¿å®Œå…¨ç‰¹åŒ–ä¹‹åä¹Ÿéœ€è¦ inline æ‰èƒ½å¤Ÿåœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸åŒçš„ç¿»è¯‘å•å…ƒæœ‰é‡å¤å®šä¹‰çš„æƒ…å†µã€‚</p><h1 id=æ”¹è¿›ä¸€precompiled-headers>æ”¹è¿›ä¸€ï¼šprecompiled headers
<a class=header-anchor href=#%e6%94%b9%e8%bf%9b%e4%b8%80precompiled-headers></a></h1><p>å¯ä»¥æŠŠ pch ç†è§£ä¸ºç¼–è¯‘å™¨ä¸­é—´å·¥ä½œçŠ¶æ€çš„ä¸€ä¸ª dumpã€‚ç¼–è¯‘å™¨å¯ä»¥åœ¨è¯»å–åˆ°æŸäº›æºä»£ç ä¹‹åä¿å­˜å…¶çŠ¶æ€ï¼ŒåŒ…æ‹¬ç¬¦å·è¡¨ç­‰ã€‚å¦‚æœä¸¤ä¸ªæ–‡ä»¶ä¸­æœ‰å…¬å…±çš„å‰ç¼€ä»£ç ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ ‡å‡†åº“çš„å¤´æ–‡ä»¶å°±åŒ…å«äº†æ•°åƒè¡Œå…¬å…±ä»£ç ï¼‰ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥è¯»å–é¢„å…ˆä¿å­˜çš„çŠ¶æ€ï¼Œä»è€Œè·³è¿‡å¯¹äºè¿™äº›ä»£ç çš„å¤„ç†ã€‚</p><p>å¾ˆé—æ†¾çš„æ˜¯å‰ç¼€çš„åˆ¤å®šæ˜¯å¿…é¡»å®Œå…¨ç›¸åŒï¼Œå³ä¾¿æ”¹å˜å¤´æ–‡ä»¶çš„åŒ…å«é¡ºåºï¼Œå…¶ä¸­ä¸å®ç›¸å…³çš„å®šä¹‰ä¹Ÿå¯èƒ½ç»“æœä¸åŒã€‚ç”±äºå®æ— æ³•ä»æ¨¡å—ä¸­å¯¼å‡ºï¼Œæ¨¡å—å°†å¯èƒ½è§£å†³è¿™ä¸€ç—›ç‚¹ã€‚</p><h1 id=æ”¹è¿›äºŒexplicit-template-instantiation>æ”¹è¿›äºŒï¼šexplicit template instantiation
<a class=header-anchor href=#%e6%94%b9%e8%bf%9b%e4%ba%8cexplicit-template-instantiation></a></h1><p>åªåœ¨å¤´æ–‡ä»¶ä¸­ç•™æ¨¡æ¿å‡½æ•°çš„å£°æ˜ï¼Œè€Œä¸æ˜¯å®šä¹‰ã€‚ç„¶ååœ¨å…¶ä»–çš„æºæ–‡ä»¶ä¸­æä¾›ç‰¹åŒ–çš„å®šä¹‰ã€‚</p></div><footer class=post-footer><div readmore=true><div class=readmore-overlay><div class=readmore-overlay-center><div class=post-button><a class=btn href=/cpp-templates-the-complete-guide/09-Using-Templates-in-Practice/#more rel=contents>é˜…è¯»å…¨æ–‡ &#187;</a></div></div></div><div class=no-more-to-read><hr><center>æ²¡æœ‰å•¦~</center></div></div><div class=post-eof></div></footer></article></div><nav class=pagination><a class="extend prev" rel=prev href=/page/34/><i class="fa fa-angle-left"></i>
</a><a class=page-number href=/page/31/>31</a>
<a class=page-number href=/page/32/>32</a>
<a class=page-number href=/page/33/>33</a>
<a class=page-number href=/page/34/>34</a>
<span class="page-number current">35</span>
<a class=page-number href=/page/36/>36</a>
<a class=page-number href=/page/37/>37</a>
<a class=page-number href=/page/38/>38</a>
<a class=page-number href=/page/39/>39</a>
<a class="extend next" rel=next href=/page/36/><i class="fa fa-angle-right"></i></a></nav></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2023 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>ğŸ¤–</span></div><div class=powered-by>ç”± <a href=https://gohugo.io title=0.143.1 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨</div></div></footer><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":false,"save":"manual"},"copybtn":true,"darkmode":false,"hostname":"https://hxhue.github.io/","i18n":{"ds_day":" å¤©å‰","ds_days":" å¤© ","ds_hour":" å°æ—¶å‰","ds_hours":" å°æ—¶ ","ds_just":"åˆšåˆš","ds_min":" åˆ†é’Ÿå‰","ds_mins":" åˆ†é’Ÿ","ds_month":" ä¸ªæœˆå‰","ds_years":" å¹´ ","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","placeholder":"æœç´¢..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":false,"transition":{"collheader":"fadeInLeft","menu_item":"fadeInDown","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":false,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"cdnjs","router":"https://cdnjs.cloudflare.com/ajax/libs"},"version":"4.5.3"}</script><script type=text/javascript src=/js/main.min.37ba8b54f9d4d784d08028c45eea93b5d4e13eda8ee7fb0d2edd6f3fac66cfd2.js defer></script></body></html>