<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Windows on Bluegill</title><link>https://hxhue.github.io/tags/windows/</link><description>Recent content in Windows on Bluegill</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Mon, 21 Apr 2025 00:00:00 +0800</lastBuildDate><atom:link href="https://hxhue.github.io/tags/windows/rss.xml" rel="self" type="application/rss+xml"/><item><title>VS Code 远程文件传输慢，寻找替代方案</title><link>https://hxhue.github.io/posts/cli/ssh/VS-Code-%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E6%85%A2%E5%AF%BB%E6%89%BE%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/</link><pubDate>Mon, 14 Apr 2025 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/cli/ssh/VS-Code-%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E6%85%A2%E5%AF%BB%E6%89%BE%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/</guid><description>&lt;h1 id="说明">说明
&lt;a class="header-anchor" href="#%e8%af%b4%e6%98%8e">&lt;/a>
&lt;/h1>&lt;p>从 Windows 的资源管理器拖动文件到连接到远程服务器的 VS Code 窗口，或者从 VS Code 文件目录下载文件，速度都比 scp 慢得多（3M/s VS 20M/s）。此文章尝试寻求其他替代方案。&lt;/p></description></item><item><title>Windows 禁用系统更新</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E7%A6%81%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%9B%B4%E6%96%B0/</link><pubDate>Thu, 13 Feb 2025 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E7%A6%81%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%9B%B4%E6%96%B0/</guid><description>&lt;p>参考 &lt;a href="https://www.bilibili.com/opus/962604159366856745" title="B 站教程" rel="noopener external nofollow noreferrer"
 target="_blank" class=" exturl" >B 站教程&lt;i class="fa fa-external-link-alt">&lt;/i>&lt;/a>。&lt;/p>
&lt;p>在注册表中，找到：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>新建 DWORD 值，名称为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>flightSettingsmaxpausedays
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>值设置大一点。这样在 Windows 更新页面的最大停止时间就可以选很长，几十周甚至几百周。不过这个数字设置太大了面板会卡住，设置到合理大就可以了，比如 3000。注意设置的时候选择&lt;strong>十进制&lt;/strong>。&lt;/p></description></item><item><title>Windows 打不开服务、设备管理器等 .msc 文件</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E6%89%93%E4%B8%8D%E5%BC%80%E6%9C%8D%E5%8A%A1%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86%E5%99%A8%E7%AD%89-.msc-%E6%96%87%E4%BB%B6/</link><pubDate>Wed, 05 Feb 2025 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E6%89%93%E4%B8%8D%E5%BC%80%E6%9C%8D%E5%8A%A1%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86%E5%99%A8%E7%AD%89-.msc-%E6%96%87%E4%BB%B6/</guid><description>&lt;h1 id="问题">问题
&lt;a class="header-anchor" href="#%e9%97%ae%e9%a2%98">&lt;/a>
&lt;/h1>&lt;p>发现是 mmc.exe 不工作了，“.msc 文件打开方式”的系统注册项是正常的。&lt;/p>
&lt;h1 id="sfcdismchkdsk-三件套无果">sfc/dism/chkdsk 三件套，无果
&lt;a class="header-anchor" href="#sfcdismchkdsk-%e4%b8%89%e4%bb%b6%e5%a5%97%e6%97%a0%e6%9e%9c">&lt;/a>
&lt;/h1>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>sfc.exe /scannow
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>DISM.exe /Online /Cleanup-image /scanhealth
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>DISM.exe /Online /Cleanup-image /checkhealth
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>DISM.exe /Online /Cleanup-image /restorehealth
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>确实是显示发现了问题并修复，但是结果还是打不开。&lt;/p></description></item><item><title>联想小新睡眠唤醒后 ctrl 按键一直被按下</title><link>https://hxhue.github.io/posts/systems/Windows/%E8%81%94%E6%83%B3%E5%B0%8F%E6%96%B0%E7%9D%A1%E7%9C%A0%E5%94%A4%E9%86%92%E5%90%8E-ctrl-%E6%8C%89%E9%94%AE%E4%B8%80%E7%9B%B4%E8%A2%AB%E6%8C%89%E4%B8%8B/</link><pubDate>Fri, 29 Nov 2024 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/%E8%81%94%E6%83%B3%E5%B0%8F%E6%96%B0%E7%9D%A1%E7%9C%A0%E5%94%A4%E9%86%92%E5%90%8E-ctrl-%E6%8C%89%E9%94%AE%E4%B8%80%E7%9B%B4%E8%A2%AB%E6%8C%89%E4%B8%8B/</guid><description>&lt;p>联想小新睡眠唤醒后 ctrl 按键一直被按下，完全没办法正常使用键盘，打字打不出来，每个字母按键都像是被 ctrl 修饰。按 esc + shift 不能启动任务管理器，但是按 esc + shift + ctrl 能，这很奇怪，又不完全是 ctrl 被按下。&lt;strong>我的解决方式一直都是重启电脑&lt;/strong>，终于忍不住了，今天晚上花了很久去搜索相关资料。&lt;/p></description></item><item><title>Windows 释放 NAT 服务占用的端口</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E9%87%8A%E6%94%BE-NAT-%E6%9C%8D%E5%8A%A1%E5%8D%A0%E7%94%A8%E7%9A%84%E7%AB%AF%E5%8F%A3/</link><pubDate>Fri, 04 Oct 2024 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E9%87%8A%E6%94%BE-NAT-%E6%9C%8D%E5%8A%A1%E5%8D%A0%E7%94%A8%E7%9A%84%E7%AB%AF%E5%8F%A3/</guid><description>&lt;h1 id="释放-nat-服务占用的端口">释放 NAT 服务占用的端口
&lt;a class="header-anchor" href="#%e9%87%8a%e6%94%be-nat-%e6%9c%8d%e5%8a%a1%e5%8d%a0%e7%94%a8%e7%9a%84%e7%ab%af%e5%8f%a3">&lt;/a>
&lt;/h1>&lt;p>查看被占用的 TCP 端口，检查自己所用的服务端口是否被包含在结果中：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>netsh interface ipv4 show excludedportrange protocol=tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>重启 winnat 服务来释放大多数端口（需要管理员权限），验证 TCP 端口是否被释放：&lt;/p></description></item><item><title>WSL2 中 nvim 的复制粘贴和 Windows 不共享剪贴板</title><link>https://hxhue.github.io/posts/systems/Windows/WSL2-%E4%B8%AD-nvim-%E7%9A%84%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%92%8C-Windows-%E4%B8%8D%E5%85%B1%E4%BA%AB%E5%89%AA%E8%B4%B4%E6%9D%BF/</link><pubDate>Sun, 15 Sep 2024 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/WSL2-%E4%B8%AD-nvim-%E7%9A%84%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%92%8C-Windows-%E4%B8%8D%E5%85%B1%E4%BA%AB%E5%89%AA%E8%B4%B4%E6%9D%BF/</guid><description>&lt;h1 id="三个剪贴板">三个剪贴板
&lt;a class="header-anchor" href="#%e4%b8%89%e4%b8%aa%e5%89%aa%e8%b4%b4%e6%9d%bf">&lt;/a>
&lt;/h1>&lt;p>Windows 一个，X selection 一个，Wayland 一个。&lt;/p>
&lt;p>安装 wl-clipboard 包可以获得 &lt;code>wl-copy&lt;/code> 和 &lt;code>wl-paste&lt;/code> 工具，它们操作 Wayland 剪贴板。&lt;/p>
&lt;p>安装 xclip 可以获得 &lt;code>xclip&lt;/code> 工具，&lt;code>xclip&lt;/code> 或 &lt;code>xclip -i&lt;/code> 类似 &lt;code>wl-copy&lt;/code>，完成复制功能，&lt;code>xclip -o&lt;/code> 完成粘贴功能。它操作的是 X selection。&lt;/p></description></item><item><title>同学 Zoom 黑屏掉线</title><link>https://hxhue.github.io/posts/systems/Windows/%E5%90%8C%E5%AD%A6-Zoom-%E9%BB%91%E5%B1%8F%E6%8E%89%E7%BA%BF/</link><pubDate>Wed, 11 Sep 2024 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/%E5%90%8C%E5%AD%A6-Zoom-%E9%BB%91%E5%B1%8F%E6%8E%89%E7%BA%BF/</guid><description>&lt;h1 id="起因">起因
&lt;a class="header-anchor" href="#%e8%b5%b7%e5%9b%a0">&lt;/a>
&lt;/h1>&lt;p>同学说 Zoom 卡，影响了他在线考试。我们收集了一些资料后发现 Zoom 有中国服务器，但是只有商业用户可以连接，而免费账户只能连接到美国的服务器。我怀疑是中国到 Zoom 的美国服务器网络线路不好。&lt;/p></description></item><item><title>换新笔记本之后 OneDrive 没有把桌面同步过来</title><link>https://hxhue.github.io/posts/systems/Windows/%E6%8D%A2%E6%96%B0%E7%AC%94%E8%AE%B0%E6%9C%AC%E4%B9%8B%E5%90%8E-OneDrive-%E6%B2%A1%E6%9C%89%E6%8A%8A%E6%A1%8C%E9%9D%A2%E5%90%8C%E6%AD%A5%E8%BF%87%E6%9D%A5/</link><pubDate>Mon, 19 Aug 2024 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/%E6%8D%A2%E6%96%B0%E7%AC%94%E8%AE%B0%E6%9C%AC%E4%B9%8B%E5%90%8E-OneDrive-%E6%B2%A1%E6%9C%89%E6%8A%8A%E6%A1%8C%E9%9D%A2%E5%90%8C%E6%AD%A5%E8%BF%87%E6%9D%A5/</guid><description>&lt;p>OneDrive 可以同步桌面，我以前的桌面是 &lt;code>C:\Users\xxx\OneDrive\Desktop&lt;/code>，现在我的新电脑的桌面是 &lt;code>C:\Users\xxx\Desktop&lt;/code>，虽然 OneDrive 仍然保存了之前的文件夹，但是没有对桌面进行同步。&lt;/p>
&lt;p>解决方案是从文件资源管理器进入用户目录，然后右键桌面，选择位置 &amp;gt; 移动。点击移动之后桌面上面的文件就会被移动到新的路径（新路径的旧文件不会被删除，遇到同名文件会询问是否覆盖），随后新的路径会被设置为桌面。&lt;/p>
&lt;p>






&lt;img src="https://hxhue.github.io/assets/Pasted%20image%2020240819140125.webp">&lt;/p></description></item><item><title>Windows cmd 转义</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-cmd-%E8%BD%AC%E4%B9%89/</link><pubDate>Wed, 22 Nov 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-cmd-%E8%BD%AC%E4%B9%89/</guid><description>&lt;p>cmd 对 &lt;strong>双引号中的 ^&lt;/strong> 不会转义。由于单引号不是 cmd 认可的引用方式，单引号中的 ^ 会转义。&lt;/p>
&lt;p>&lt;strong>cmd 的 echo 命令并不会去掉双引号参数的双引号&lt;/strong>。例子：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>C:&lt;span style="color:#cb4b16">\U&lt;/span>sers&lt;span style="color:#cb4b16">\x&lt;/span>x&amp;gt;echo &lt;span style="color:#2aa198">&amp;#34;6&amp;#34;&lt;/span> | C:&lt;span style="color:#cb4b16">\U&lt;/span>sers&lt;span style="color:#cb4b16">\x&lt;/span>x&lt;span style="color:#cb4b16">\s&lt;/span>coop&lt;span style="color:#cb4b16">\s&lt;/span>hims&lt;span style="color:#cb4b16">\b&lt;/span>ash.exe -c &lt;span style="color:#2aa198">&amp;#34;cat&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">&amp;#34;6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>其他命令貌似会去掉双引号，比如 cd 和 set。外置命令就更不用说了，写 git show &amp;ldquo;HEAD&amp;rdquo; 能够正常运行，可能是因为 cmd 为非内置命令去掉了双引号。&lt;/p></description></item><item><title>Windows 下用 CMD 或 powershell 一键重启显卡驱动</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E4%B8%8B%E7%94%A8-CMD-%E6%88%96-powershell-%E4%B8%80%E9%94%AE%E9%87%8D%E5%90%AF%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8/</link><pubDate>Thu, 09 Nov 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E4%B8%8B%E7%94%A8-CMD-%E6%88%96-powershell-%E4%B8%80%E9%94%AE%E9%87%8D%E5%90%AF%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8/</guid><description>&lt;p>主要是双显卡笔记本切换显示屏后，部分应用没有切换图形显示卡，导致未活跃的显卡时不时被唤醒，而每次唤醒会有一秒的卡顿。&lt;/p>
&lt;p>创建 bat 文件（&lt;strong>其中硬件驱动的实例路径需要在设备管理器上查看后根据实际修改&lt;/strong>）：&lt;/p></description></item><item><title>WSL2 不能使用 code 打开 VS Code</title><link>https://hxhue.github.io/posts/systems/Windows/WSL2-%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8-code-%E6%89%93%E5%BC%80-VS-Code/</link><pubDate>Sun, 17 Sep 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/WSL2-%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8-code-%E6%89%93%E5%BC%80-VS-Code/</guid><description>&lt;p>首先检查 &lt;code>/etc/wsl.conf&lt;/code> 配置，如果设置了不追加 Windows 的 PATH，则需要自己额外添加 VS Code 的命令目录到 WSL 中。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-toml" data-lang="toml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#586e75"># /etc/wsl.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>[boot]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemd=&lt;span style="color:#cb4b16">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>[interop]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>appendWindowsPath=&lt;span style="color:#cb4b16">false&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#586e75"># ~/.bashrc 或者其他配置文件&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">export&lt;/span> &lt;span style="color:#268bd2">PATH&lt;/span>&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">&amp;#34;/mnt/c/Users/xxx/AppData/Local/Programs/Microsoft VS Code/bin:&lt;/span>&lt;span style="color:#268bd2">$PATH&lt;/span>&lt;span style="color:#2aa198">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果报错：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>/mnt/c/Users/xxx/AppData/Local/Programs/Microsoft VS Code/bin/code: 61: /mnt/c/Users/xxx/AppData/Local/Programs/Microsoft VS Code/Code.exe: Exec format error
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>则可能是新版 WSL 的 systemd 打包问题。（参考 &lt;a href="https://github.com/microsoft/WSL/issues/8952#issuecomment-1568212651" title="https://github.com/microsoft/WSL/issues/8952#issuecomment-1568212651" rel="noopener external nofollow noreferrer"
 target="_blank" class=" exturl" >https://github.com/microsoft/WSL/issues/8952#issuecomment-1568212651&lt;i class="fa fa-external-link-alt">&lt;/i>&lt;/a>）&lt;/p></description></item><item><title>Clash 相关</title><link>https://hxhue.github.io/posts/systems/Windows/Clash-for-Windows-%E7%9B%B8%E5%85%B3/</link><pubDate>Sun, 20 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Clash-for-Windows-%E7%9B%B8%E5%85%B3/</guid><description>&lt;h1 id="写在前面">写在前面
&lt;a class="header-anchor" href="#%e5%86%99%e5%9c%a8%e5%89%8d%e9%9d%a2">&lt;/a>
&lt;/h1>&lt;p>现在是 2024 年 4 月 17 日，Clash 源码（包括内核和 Clash for Windows，即 CFW）已经没了，&lt;a href="https://clash.wiki/" title="clash.wiki" rel="noopener external nofollow noreferrer"
 target="_blank" class=" exturl" >clash.wiki&lt;i class="fa fa-external-link-alt">&lt;/i>&lt;/a> 仍然能访问，并且里面有一些下载资源。虽然 Clash 现在不支持新协议了，也不继续维护了，但是它的一系列客户端实在是太好用了……&lt;/p></description></item><item><title>Windows cmd 调用和退出</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-cmd-%E8%B0%83%E7%94%A8%E5%92%8C%E9%80%80%E5%87%BA/</link><pubDate>Thu, 17 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-cmd-%E8%B0%83%E7%94%A8%E5%92%8C%E9%80%80%E5%87%BA/</guid><description>&lt;ul>
&lt;li>&lt;code>exit&lt;/code>：退出整个 &lt;code>cmd.exe&lt;/code>。&lt;/li>
&lt;li>&lt;code>exit /b&lt;/code>：只退出当前的批处理脚本。&lt;/li>
&lt;li>&lt;code>xx.bat&lt;/code>：转去运行 &lt;code>xx.bat&lt;/code>，不再返回。&lt;/li>
&lt;li>&lt;code>call xx.bat&lt;/code>：转去运行 &lt;code>xx.bat&lt;/code>，结束后返回（除非调用了 &lt;code>exit&lt;/code> 使得整个 &lt;code>cmd.exe&lt;/code> 中止）。&lt;/li>
&lt;li>&lt;code>cmd /c yy&lt;/code>：执行 &lt;code>yy&lt;/code> 命令，结束后在交互界面继续等待操作。&lt;/li>
&lt;li>&lt;code>cmd /k yy&lt;/code>：执行 &lt;code>yy&lt;/code> 命令，结束后退出。&lt;/li>
&lt;li>&lt;code>start zz&lt;/code>：创建一个新的窗口运行 &lt;code>zz&lt;/code>。&lt;/li>
&lt;/ul>
&lt;p>如果想要在子脚本有 &lt;code>exit&lt;/code>（而不是 &lt;code>exit /b&lt;/code>）的情况还能不退出，可以使用 &lt;code>cmd&lt;/code> 或者 &lt;code>start&lt;/code> 创建新的命令行提示符。&lt;/p></description></item><item><title>在 Windows 的 bat 脚本中写 python 代码</title><link>https://hxhue.github.io/posts/programming/python/%E5%9C%A8-Windows-%E7%9A%84-bat-%E8%84%9A%E6%9C%AC%E4%B8%AD%E5%86%99-python-%E4%BB%A3%E7%A0%81/</link><pubDate>Thu, 17 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/programming/python/%E5%9C%A8-Windows-%E7%9A%84-bat-%E8%84%9A%E6%9C%AC%E4%B8%AD%E5%86%99-python-%E4%BB%A3%E7%A0%81/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">&amp;#34;python&amp;#34;&lt;/span> &lt;span style="color:#2aa198">&amp;#34;%~dp0%~nx0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>exit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">字符串对于 cmd 来说是外部命令或参数，对于 python 来说是可拼接的字面量。
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">exit 对 cmd 来说是退出，对于 python 来说是一个函数名。
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">exit 会中止调用者，但在桌面点击运行的环境下可以正常使用。
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">import&lt;/span> uuid
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">import&lt;/span> subprocess
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">def&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">while&lt;/span> (&lt;span style="color:#b58900">input&lt;/span>(&lt;span style="color:#2aa198">&amp;#39;Hit enter to generate another key: &amp;#39;&lt;/span>)&lt;span style="color:#719e07">.&lt;/span>strip() &lt;span style="color:#719e07">==&lt;/span> &lt;span style="color:#2aa198">&amp;#39;&amp;#39;&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> s &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#b58900">str&lt;/span>(uuid&lt;span style="color:#719e07">.&lt;/span>uuid4())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> subprocess&lt;span style="color:#719e07">.&lt;/span>run(&lt;span style="color:#2aa198">&amp;#34;clip&amp;#34;&lt;/span>, text&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#cb4b16">True&lt;/span>, &lt;span style="color:#b58900">input&lt;/span>&lt;span style="color:#719e07">=&lt;/span>s)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#b58900">print&lt;/span>(&lt;span style="color:#2aa198">f&lt;/span>&lt;span style="color:#2aa198">&amp;#39;&lt;/span>&lt;span style="color:#2aa198">{&lt;/span>s&lt;span style="color:#2aa198">}&lt;/span>&lt;span style="color:#2aa198"> is sent to your clipboard!&lt;/span>&lt;span style="color:#cb4b16">\n&lt;/span>&lt;span style="color:#2aa198">&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">if&lt;/span> __name__ &lt;span style="color:#719e07">==&lt;/span> &lt;span style="color:#2aa198">&amp;#39;__main__&amp;#39;&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">try&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> main()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">except&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#b58900">input&lt;/span>(&lt;span style="color:#2aa198">&amp;#39;&lt;/span>&lt;span style="color:#cb4b16">\n&lt;/span>&lt;span style="color:#2aa198">You entered something else. Program will end after your next input.&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Windows 11 禁用笔记本键盘</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-11-%E7%A6%81%E7%94%A8%E7%AC%94%E8%AE%B0%E6%9C%AC%E9%94%AE%E7%9B%98/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-11-%E7%A6%81%E7%94%A8%E7%AC%94%E8%AE%B0%E6%9C%AC%E9%94%AE%E7%9B%98/</guid><description>&lt;p>&lt;strong>禁用&lt;/strong>：&lt;code>sc.exe config i8042prt start= disabled&lt;/code>&lt;/p>
&lt;p>&lt;strong>启用&lt;/strong>：&lt;code>sc.exe config i8042prt start= auto&lt;/code>&lt;/p>
&lt;p>需要重启。&lt;/p></description></item><item><title>Windows 查找已经修改过的组策略</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E6%9F%A5%E6%89%BE%E5%B7%B2%E7%BB%8F%E4%BF%AE%E6%94%B9%E8%BF%87%E7%9A%84%E7%BB%84%E7%AD%96%E7%95%A5/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E6%9F%A5%E6%89%BE%E5%B7%B2%E7%BB%8F%E4%BF%AE%E6%94%B9%E8%BF%87%E7%9A%84%E7%BB%84%E7%AD%96%E7%95%A5/</guid><description>&lt;p>在所有设置中点排序。&lt;/p>
&lt;p>






&lt;img src="https://hxhue.github.io/assets/1a5bb26a09cd937ee65801bf61378ad9.webp">&lt;/p></description></item><item><title>Windows 窗口栏在屏幕外不能移动</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E7%AA%97%E5%8F%A3%E6%A0%8F%E5%9C%A8%E5%B1%8F%E5%B9%95%E5%A4%96%E4%B8%8D%E8%83%BD%E7%A7%BB%E5%8A%A8/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E7%AA%97%E5%8F%A3%E6%A0%8F%E5%9C%A8%E5%B1%8F%E5%B9%95%E5%A4%96%E4%B8%8D%E8%83%BD%E7%A7%BB%E5%8A%A8/</guid><description>&lt;p>先把窗口激活（放到最前面）然后按 &lt;strong>&lt;code>Alt&lt;/code>&lt;/strong> + &lt;strong>&lt;code>Space&lt;/code>&lt;/strong>，就能出现菜单选择 &lt;strong>最大化/最小化/移动&lt;/strong>。&lt;/p>
&lt;p>如果不行，也可以把任何一个其他的窗口拖动到左屏，右侧选择位置不正确的窗口组成双栏分屏，然后将其拖出来恢复成正常窗口。&lt;/p></description></item><item><title>Windows 合集</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E5%90%88%E9%9B%86/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E5%90%88%E9%9B%86/</guid><description>&lt;h1 id="必做">🚩必做
&lt;a class="header-anchor" href="#%e5%bf%85%e5%81%9a">&lt;/a>
&lt;/h1>&lt;ul>
&lt;li>关闭实时保护&lt;/li>
&lt;li>关闭自动更新&lt;/li>
&lt;li>定时创建还原点&lt;/li>
&lt;/ul>
&lt;p>如果系统驱动有问题、难以修复而且没有创建还原点，全新安装新系统也可以，&lt;strong>Windows 不会抹除所有数据&lt;/strong>，受影响的只有注册表和 &lt;code>C:\Windows&lt;/code> 文件夹下的数据。用户文件夹会被备份到 &lt;code>C:\Windows.old&lt;/code> 中，QQ 和微信聊天数据、ssh/clash 等配置文件夹可以从其中复制过来。程序需要重新安装。&lt;/p></description></item><item><title>Windows 回退驱动或给已经删除的设备添加驱动</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E5%9B%9E%E9%80%80%E9%A9%B1%E5%8A%A8%E6%88%96%E7%BB%99%E5%B7%B2%E7%BB%8F%E5%88%A0%E9%99%A4%E7%9A%84%E8%AE%BE%E5%A4%87%E6%B7%BB%E5%8A%A0%E9%A9%B1%E5%8A%A8/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E5%9B%9E%E9%80%80%E9%A9%B1%E5%8A%A8%E6%88%96%E7%BB%99%E5%B7%B2%E7%BB%8F%E5%88%A0%E9%99%A4%E7%9A%84%E8%AE%BE%E5%A4%87%E6%B7%BB%E5%8A%A0%E9%A9%B1%E5%8A%A8/</guid><description>&lt;p>&lt;strong>如果想要恢复到曾经安装过的驱动&lt;/strong>。可以按照下面步骤操作：&lt;/p>
&lt;p>首先在设备管理器中选择添加过时硬件。&lt;/p>
&lt;p>






&lt;img src="https://hxhue.github.io/assets/1b40b74499ab2e5aa844b2f760b83e97.webp">&lt;/p>
&lt;p>看到首页之后点下一页。然后选中手动安装，再点一次下一页。&lt;/p></description></item><item><title>Windows 提示被管理员禁止安装核显驱动、WSL 也无法启动</title><link>https://hxhue.github.io/posts/systems/Windows/Windows-%E6%8F%90%E7%A4%BA%E8%A2%AB%E7%AE%A1%E7%90%86%E5%91%98%E7%A6%81%E6%AD%A2%E5%AE%89%E8%A3%85%E6%A0%B8%E6%98%BE%E9%A9%B1%E5%8A%A8WSL-%E4%B9%9F%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/Windows-%E6%8F%90%E7%A4%BA%E8%A2%AB%E7%AE%A1%E7%90%86%E5%91%98%E7%A6%81%E6%AD%A2%E5%AE%89%E8%A3%85%E6%A0%B8%E6%98%BE%E9%A9%B1%E5%8A%A8WSL-%E4%B9%9F%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8/</guid><description>&lt;p>原因是很早之前按照知乎的说法启用了这个设置，本想禁用系统更新时自动安装旧版本的核显驱动，但也使得我的电脑核显驱动坏掉且不能自行安装。&lt;/p>
&lt;p>






&lt;img src="https://hxhue.github.io/assets/df665a70a2b095157646fb53c02e2313.webp">&lt;/p>
&lt;p>恢复核显驱动首先应该关闭这项，然后去下载对应驱动安装，或者回退到旧的驱动。&lt;/p></description></item><item><title>WSL 合集</title><link>https://hxhue.github.io/posts/systems/Windows/WSL-%E5%90%88%E9%9B%86/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0800</pubDate><guid>https://hxhue.github.io/posts/systems/Windows/WSL-%E5%90%88%E9%9B%86/</guid><description>&lt;h1 id="常见问题">常见问题
&lt;a class="header-anchor" href="#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98">&lt;/a>
&lt;/h1>&lt;p>&lt;strong>设置 apt 代理&lt;/strong>。编辑 /etc/apt/apt.conf，格式如下（ip 会变）：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>// 很奇怪，注释竟然是//开头，而不是#
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Acquire::http::Proxy &amp;#34;http://192.168.1.56:12366/&amp;#34;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Acquire::https::Proxy &amp;#34;http://192.168.1.56:12366/&amp;#34;;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
 &lt;p>sudo 没有 &lt;code>$http_proxy&lt;/code> 代理的原因是默认不传递环境变量，使用 &lt;code>-E&lt;/code> 选项传递环境变量就可以不设置上面的代理。&lt;/p></description></item></channel></rss>