<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.143.1"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="chapter02 - cmake language"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://hxhue.github.io/imgs/371907.jpg"><meta itemprop=keywords content="cmake,cpp,modern-cmake-for-cpp"><link type=text/css rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css><link rel=stylesheet href=/css/main.min.bea76f574a755574e17d42bea39502a74ca3ca4db65807b8c82d3e26dcec8420.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ æˆ‘å¯æ˜¯æœ‰åº•çº¿çš„å“Ÿ ~"}</style><link rel=stylesheet type=text/css href=/css/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/github-markdown-css@5.3.0/github-markdown-dark.css><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script><script>MathJax={tex:{displayMath:[["$$","$$"],["\\[","\\]"]],inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}}</script><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: false });
  mermaid.mermaidAPI.initialize();
  window.mermaid = mermaid;
</script><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"chapter02-cmake-language","permalink":"https://hxhue.github.io/modern-cmake-for-cpp/chapter02-cmake-language/","title":"chapter02 - cmake language","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>chapter02 - cmake language - Bluegill</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Bluegill</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description></p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href=/about/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>å…³äº</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>å½’æ¡£</a></li><li class="menu-item menu-item-categories"><a href=/categories/ class=hvr-icon-pulse rel=section><i class="fa fa-th hvr-icon"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-hashtag hvr-icon"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-daily"><a href=/daily/ class=hvr-icon-pulse rel=section><i class="fa fa-newspaper hvr-icon"></i>éšç¬”</a></li><li class="menu-item menu-item-discovery"><a href=https://rift-fear-f2c.notion.site/2025-1e354a33cfb1802c841bdf29f2f3dab3 class=hvr-icon-pulse rel=section><i class="fa fa-compass hvr-icon"></i>å‘ç°</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>æœç´¢</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=æœç´¢... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>æ–‡ç« ç›®å½•</li><li class=sidebar-nav-overview>ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#comments>Comments</a></li><li><a href=#command>Command</a></li><li><a href=#å‚æ•°>å‚æ•°</a></li><li><a href=#å˜é‡>å˜é‡</a><ul><li><a href=#ç¯å¢ƒå˜é‡>ç¯å¢ƒå˜é‡</a></li><li><a href=#cache-å˜é‡>Cache å˜é‡</a></li><li><a href=#å˜é‡ä½œç”¨åŸŸ>å˜é‡ä½œç”¨åŸŸ</a></li><li><a href=#list-å˜é‡>List å˜é‡</a></li></ul></li><li><a href=#æ§åˆ¶æµç¨‹>æ§åˆ¶æµç¨‹</a></li><li><a href=#å®å’Œå‡½æ•°>å®å’Œå‡½æ•°</a><ul><li><a href=#å®>å®</a></li><li><a href=#å‡½æ•°>å‡½æ•°</a></li></ul></li><li><a href=#å®ç”¨å‘½ä»¤>å®ç”¨å‘½ä»¤</a><ul><li><a href=#message>message</a></li><li><a href=#include>include</a></li><li><a href=#file>file</a></li><li><a href=#execute_process>execute_process</a></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=ğŸ¤– src=/imgs/371907.jpg><p class=site-author-name itemprop=name>ğŸ¤–</p><div class=site-description itemprop=description>ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>433</span>
<span class=site-state-item-name>æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>12</span>
<span class=site-state-item-name>åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>86</span>
<span class=site-state-item-name>æ ‡ç­¾</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/hxhue title="Github â†’ https://github.com/hxhue" rel=noopener target=_blank><i class="fab fa-github fa-fw"></i>
Github
</a></span><span class=links-of-social-item><a href=/rss.xml title="RSS è®¢é˜… â†’ /rss.xml" rel=noopener target=_blank><i class="fa fa-rss fa-fw"></i>
RSS è®¢é˜…</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=å…±äº«çŸ¥è¯†><img src=/imgs/cc/big/by_nc_sa.svg alt=å…±äº«çŸ¥è¯†></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
å‹æƒ…é“¾æ¥</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://shuai.guru/ title=https://shuai.guru/ target=_blank>shuai.guru</a></li></ul></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=toggle-theme class=button title=æ·±æµ…æ¨¡å¼åˆ‡æ¢><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=è¿”å›é¡¶éƒ¨><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://hxhue.github.io/modern-cmake-for-cpp/chapter02-cmake-language/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/371907.jpg"><meta itemprop=name content="ğŸ¤–"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ğŸ¤–"><meta itemprop=description content="ä¸ªäººåšå®¢ï¼Œä¸»è¦æ˜¯é›¶æ•£çš„ç¬”è®°ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="chapter02 - cmake language"><meta itemprop=description content="Comments


ä½¿ç”¨ #
ä½¿ç”¨ #[=[ å’Œ #]=]ï¼ˆè¿™ç§å—æ³¨é‡Šæ˜¯å¯ä»¥åµŒå¥—çš„ï¼‰

å¦‚æœ #[=[ å‰é¢è¿˜æœ‰ #ï¼Œé‚£ä¹ˆå—æ³¨é‡Šå¼€å§‹æ ‡å¿—æœ¬èº«è¢«æ³¨é‡Šäº†ã€‚åç»­çš„å—æ³¨é‡Šç»“æŸæ ‡å¿—è¢«è®¤ä¸ºæ˜¯æ™®é€šçš„å•è¡Œæ³¨é‡Šã€‚"></span><header class=post-header><h1 class=post-title itemprop="name headline">chapter02 - cmake language</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2024-02-01 00:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2024-02-01 00:00:00 +0800 CST">2024-02-01
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=æ›´æ–°äº>æ›´æ–°äºï¼š
</span><time title=ä¿®æ”¹æ—¶é—´ï¼š2024-08-18T00:00:00+08:00 itemprop=dateModified datetime=2024-08-18T00:00:00+08:00>2024-08-18</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/modern-cmake-for-cpp itemprop=url rel=index><span itemprop=name>modern-cmake-for-cpp</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=å­—æ•°><span class=post-meta-item-icon><i class="far fa-file-word"></i>
</span><span class=post-meta-item-text>å­—æ•°ï¼š</span>
<span>2488</span>
</span><span class=post-meta-item title=é˜…è¯»><span class=post-meta-item-icon><i class="far fa-clock"></i>
</span><span class=post-meta-item-text>é˜…è¯»ï¼š&ap;</span>
<span>5åˆ†é’Ÿ</span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=comments>Comments
<a class=header-anchor href=#comments></a></h1><ol><li>ä½¿ç”¨ <code>#</code></li><li>ä½¿ç”¨ <code>#[=[</code> å’Œ <code>#]=]</code>ï¼ˆ<strong>è¿™ç§å—æ³¨é‡Šæ˜¯å¯ä»¥åµŒå¥—çš„</strong>ï¼‰</li></ol><p>å¦‚æœ <code>#[=[</code> å‰é¢è¿˜æœ‰ <code>#</code>ï¼Œé‚£ä¹ˆå—æ³¨é‡Šå¼€å§‹æ ‡å¿—æœ¬èº«è¢«æ³¨é‡Šäº†ã€‚åç»­çš„å—æ³¨é‡Šç»“æŸæ ‡å¿—è¢«è®¤ä¸ºæ˜¯æ™®é€šçš„å•è¡Œæ³¨é‡Šã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#586e75>##[=[
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#b58900>message</span>(<span style=color:#2aa198>&#34;I&#39;m not commented&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#586e75>#]=]
</span></span></span></code></pre></div><h1 id=command>Command
<a class=header-anchor href=#command></a></h1><p>å‘½ä»¤åæ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Œä½†æ˜¯ä¸€èˆ¬ç”¨å°å†™ã€‚</p><p>å‘½ä»¤ä¸æ˜¯è¡¨è¾¾å¼ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p><p>commands åˆ†ç±»ï¼š</p><p><img src=/assets/9049faba4a3c91e2636068fdec08ba31.webp></p><p>å”¯ä¸€çš„æ•°æ®ç±»å‹ï¼šstring</p><p>message å‘½ä»¤ä¼šå°†æ‰€æœ‰çš„å‚æ•°æ—  separator æ‹¼æ¥èµ·æ¥æ‰“å°ã€‚</p><h1 id=å‚æ•°>å‚æ•°
<a class=header-anchor href=#%e5%8f%82%e6%95%b0></a></h1><p><strong>ç¬¬ä¸€ç§ï¼šbracket arguments</strong></p><p>ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ä¸²å­—é¢é‡ï¼Œ<strong>å°Šé‡æ¢è¡Œå’Œç©ºæ ¼</strong>ã€‚ç”± <code>[[</code> å¼€å¯ã€‚å…¶ä¸­åŒå·¦æ‹¬å·ä¸­å¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªä»»æ„æ•°é‡çš„ <code>=</code> ç¬¦å·ã€‚æ¯”å¦‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>[[multiline</span>
</span></span><span style=display:flex><span><span style=color:#2aa198>bracket</span>
</span></span><span style=display:flex><span><span style=color:#2aa198>argument</span>
</span></span><span style=display:flex><span><span style=color:#2aa198>]]</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>[==[</span>
</span></span><span style=display:flex><span>  <span style=color:#2aa198>because</span> <span style=color:#2aa198>we</span> <span style=color:#2aa198>used</span> <span style=color:#2aa198>two</span> <span style=color:#2aa198>equal-signs</span> <span style=color:#2aa198>&#34;==&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#2aa198>following</span> <span style=color:#2aa198>is</span> <span style=color:#2aa198>still</span> <span style=color:#2aa198>a</span> <span style=color:#2aa198>single</span> <span style=color:#2aa198>argument:</span>
</span></span><span style=display:flex><span>  <span style=color:#2aa198>{</span> <span style=color:#2aa198>&#34;petsArray&#34;</span> <span style=color:#2aa198>=</span> <span style=color:#2aa198>[[</span><span style=color:#2aa198>&#34;mouse&#34;</span><span style=color:#2aa198>,</span><span style=color:#2aa198>&#34;cat&#34;</span><span style=color:#2aa198>]]</span> <span style=color:#2aa198>}</span>
</span></span><span style=display:flex><span><span style=color:#2aa198>]==]</span>)
</span></span></code></pre></div><p>å› ä¸ºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«äº† <code>]]</code> æœ¬èº«ï¼Œæ‰€ä»¥å†ä½¿ç”¨ <code>[</code> å’Œ <code>]</code> å°±ä¸åˆé€‚äº†ï¼ˆä¼šå¯¼è‡´å­—ç¬¦ä¸²æå‰ç»“æŸï¼ï¼‰ã€‚æ¢ç”¨ä¸åŒçš„å¼€å§‹å’Œç»“æŸæ ‡å¿—å¯ä»¥å¸®åŠ©è½¬ä¹‰ã€‚è¿™ä¸€ç‚¹å’Œ shell çš„ Here Document ä¸€æ ·ã€‚</p><p><strong>ç¬¬äºŒç§ï¼šquoted arguments</strong></p><p>å¯ä»¥ç”¨ <code>${Var}</code> å®Œæˆå­—ç¬¦ä¸²æ’å€¼ã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>&#34;1. escape sequence: \&#34;</span> <span style=color:#2aa198>\n</span> <span style=color:#2aa198>in</span> <span style=color:#2aa198>a</span> <span style=color:#2aa198>quoted</span> <span style=color:#2aa198>argument</span><span style=color:#2aa198>&#34;)
</span></span></span><span style=display:flex><span><span style=color:#2aa198>message(&#34;</span><span style=color:#2aa198>2.</span> <span style=color:#2aa198>multi...</span>
</span></span><span style=display:flex><span><span style=color:#2aa198>line</span><span style=color:#2aa198>&#34;)
</span></span></span><span style=display:flex><span><span style=color:#2aa198>message(&#34;</span><span style=color:#2aa198>3.</span> <span style=color:#2aa198>and</span> <span style=color:#2aa198>a</span> <span style=color:#2aa198>variable</span> <span style=color:#2aa198>reference:</span> <span style=color:#719e07>${</span><span style=color:#268bd2>CMAKE_VERSION</span><span style=color:#719e07>}</span>&#34;)
</span></span></code></pre></div><p>æ²¡æƒ³åˆ°ç¬¬äºŒæ¡ message çœŸçš„èƒ½æ¢è¡Œï¼Œå’Œ bracket arguments ç›¸æ¯”åªæœ‰è½¬ä¹‰çš„åŒºåˆ«ã€‚</p><p><strong>ç¬¬ä¸‰ç§ï¼šunquoted arguments</strong></p><p>ç©ºç™½å­—ç¬¦å’Œåˆ†å·å¯ä»¥åˆ†å‰²å‚æ•°ï¼š</p><p><img src=/assets/ae0767684621937a9d5f544640770005.webp></p><p>è€Œä¸”åœ†æ‹¬å·æ¯”å¦‚æˆå¯¹æ‰èƒ½å‡ºç°åœ¨è£¸å‚æ•°ä¸­ã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>a\</span> <span style=color:#2aa198>single\</span> <span style=color:#2aa198>argument</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>two</span> <span style=color:#2aa198>arguments</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>three;separated;arguments</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#719e07>${</span><span style=color:#268bd2>CMAKE_VERSION</span><span style=color:#719e07>}</span>)  <span style=color:#586e75># a variable reference
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#b58900>message</span>(()()())            <span style=color:#586e75># matching parentheses
</span></span></span></code></pre></div><p>æ‰“å°ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span>a single argument
</span></span><span style=display:flex><span>twoarguments
</span></span><span style=display:flex><span>threeseparatedarguments
</span></span><span style=display:flex><span>3.28.1
</span></span><span style=display:flex><span>()()()
</span></span></code></pre></div><p>å¦‚æœåœ†æ‹¬å·å°‘äº†ä¸€ä¸ªå°±ä¼šå‡ºé”™ã€‚</p><h1 id=å˜é‡>å˜é‡
<a class=header-anchor href=#%e5%8f%98%e9%87%8f></a></h1><p>å’Œ å‘½ä»¤ ä¸åŒï¼Œå˜é‡åæ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚</p><p><code>set</code> å‘½ä»¤ç”¨æ¥è®¾ç½®å˜é‡ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å˜é‡åã€‚å˜é‡åä¸æ˜¯ä»€ä¹ˆç‰¹æ®Šçš„æ•°æ®ï¼Œåªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼å¯ä»¥ç”¨ <code>set("xxx" yyy)</code> æ¥å†™ã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>set</span>(<span style=color:#2aa198>MyString1</span> <span style=color:#2aa198>&#34;Text1&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>set</span>(<span style=color:#2aa198>[[My</span> <span style=color:#2aa198>String2]]</span> <span style=color:#2aa198>&#34;Text2&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>set</span>(<span style=color:#2aa198>&#34;My String 3&#34;</span> <span style=color:#2aa198>&#34;Text3&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#719e07>${</span><span style=color:#268bd2>MyString1</span><span style=color:#719e07>}</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#719e07>${</span><span style=color:#268bd2>My\ String2</span><span style=color:#719e07>}</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#719e07>${</span><span style=color:#268bd2>My\ String\ 3</span><span style=color:#719e07>}</span>)
</span></span></code></pre></div><p>æ‰“å°ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span>Text1
</span></span><span style=display:flex><span>Text2
</span></span><span style=display:flex><span>Text3
</span></span></code></pre></div><p>å’Œ <code>set</code> ç›¸å¯¹çš„æ˜¯ <code>unset</code> å‘½ä»¤ã€‚</p><p>å˜é‡çš„å±•å¼€æ˜¯ä»å†…å‘å¤–é€’å½’è¿›è¡Œçš„ï¼Œå·²å±•å¼€çš„å˜é‡å¦‚æœæºå¸¦ <code>${}</code> ç­‰ç‰¹æ®Šå­—ç¬¦å°†ä¼šç»§ç»­å½±å“æœ¬æ¬¡å±•å¼€ï¼</p><p>ä¸åŒç±»å‹çš„å˜é‡æœ‰ä¸åŒçš„å±•å¼€æ–¹å¼ï¼š</p><p><img src=/assets/1ec8102cf43b40e076c00599fad744e6.webp></p><p>å˜é‡çš„å±•å¼€åœ¨å‘½ä»¤è°ƒç”¨ä¹‹å‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>&#34;${CMAKE_CXX_COMPILE_FEATURES}&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#719e07>${</span><span style=color:#268bd2>CMAKE_CXX_COMPILE_FEATURES</span><span style=color:#719e07>}</span>)
</span></span></code></pre></div><p>è¿™ä¸¤æ¡å‘½ä»¤çš„ç»“æœä¸åŒã€‚å› ä¸ºè¿™ä¸ªå‚æ•°æ˜¯åˆ—è¡¨ï¼Œåœ¨ç¬¬äºŒæ¡å‘½ä»¤ä¸­ä¼šå±•å¼€ä¸ºå¤šä¸ªå‚æ•°ï¼Œè¢« message æ‹¼æ¥èµ·æ¥æ‰“å°ã€‚è€Œåœ¨ç¬¬ä¸€æ¡å‘½ä»¤ä¸­æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œå› è€Œå…¶ä¸­çš„åˆ†å·è¢«ä¿ç•™ã€‚</p><p>åˆ—è¡¨å˜é‡çš„å­˜å‚¨æ–¹å¼å°±æ˜¯åŠ åˆ†å·ï¼</p><h2 id=ç¯å¢ƒå˜é‡>ç¯å¢ƒå˜é‡
<a class=header-anchor href=#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f></a></h2><p>è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼æ¯”è¾ƒç‰¹æ®Šï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>set</span>(<span style=color:#2aa198>ENV{CXX}</span> <span style=color:#2aa198>&#34;clang++&#34;</span>)
</span></span></code></pre></div><p>ç¯å¢ƒå˜é‡ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œç”¨å­—ç¬¦ä¸²åŒºåˆ«å°±è¡Œã€‚å±•å¼€åªéœ€è¦ä¸€ä¸ª <code>$</code>ã€‚åªæ˜¯å¯¹äºæ™®é€šå˜é‡æ¥è¯´ï¼Œå±•å¼€é™¤äº† <code>$</code> è¿˜å¾—æœ‰èŠ±æ‹¬å·åŒ…è£¹ã€‚</p><p><strong>ç¯å¢ƒå˜é‡æ˜¯åœ¨é…ç½®é˜¶æ®µå›ºå®šçš„</strong>ã€‚æ‰€ä»¥åœ¨ç”Ÿæˆé˜¶æ®µæ˜¯æ— æ³•å†æ¬¡ä¿®æ”¹çš„ã€‚</p><h2 id=cache-å˜é‡>Cache å˜é‡
<a class=header-anchor href=#cache-%e5%8f%98%e9%87%8f></a></h2><p>åœ¨éè„šæœ¬æ¨¡å¼ä¸­ï¼Œå¦‚æœ CMakeCache.txt å­˜åœ¨ä¼šåŠ è½½ã€‚é€šè¿‡ <code>-D</code> é€‰é¡¹ä¹Ÿèƒ½ä¼ å…¥ã€‚</p><h2 id=å˜é‡ä½œç”¨åŸŸ>å˜é‡ä½œç”¨åŸŸ
<a class=header-anchor href=#%e5%8f%98%e9%87%8f%e4%bd%9c%e7%94%a8%e5%9f%9f></a></h2><p>Directory Scope å’Œ Function Scopeã€‚</p><p><strong><code>set</code> å‡½æ•°æä¾› <code>PARENT_SCOPE</code> é€‰é¡¹æ¥è®¾ç½®çˆ¶ä½œç”¨åŸŸ</strong>ã€‚æ³¨æ„ä¿®æ”¹çˆ¶ä½œç”¨åŸŸçš„å˜é‡å€¼ä¸ä¼šå½±å“åˆ°å½“å‰ä½œç”¨åŸŸï¼</p><h2 id=list-å˜é‡>List å˜é‡
<a class=header-anchor href=#list-%e5%8f%98%e9%87%8f></a></h2><p>å˜é‡å°±æ˜¯é  <code>;</code> å’Œ ç©ºç™½å­—ç¬¦ åˆ†å‰²çš„ã€‚</p><p>å¦‚æœä¸€ä¸ªåˆ—è¡¨è¢« message ç›´æ¥æ‰“å°ï¼Œé‚£ä¹ˆå®ƒä¼šå±•å¼€ä¸ºå¤šä¸ªå‚æ•°ï¼Œç„¶åç›´æ¥è¢«æ‹¼æ¥åœ¨ä¸€èµ·ã€‚</p><h1 id=æ§åˆ¶æµç¨‹>æ§åˆ¶æµç¨‹
<a class=header-anchor href=#%e6%8e%a7%e5%88%b6%e6%b5%81%e7%a8%8b></a></h1><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>if</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>elseif</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>else</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>while</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>endwhile</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>foreach</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>endforeach</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>break</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>continue</span>()
</span></span></code></pre></div><p>æ¡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span>NOT &lt;cond&gt;
</span></span><span style=display:flex><span>&lt;cond&gt; AND &lt;cond&gt;
</span></span><span style=display:flex><span>&lt;cond&gt; OR &lt;cond&gt;
</span></span></code></pre></div><p>å¯ä»¥åŠ æ‹¬å·ä¿è¯è®¡ç®—é¡ºåºã€‚</p><p><strong>ç”±äºå†å²å› ç´ ï¼Œæœªè¢«æ‹¬å·åŒ…è£¹çš„å‚æ•°ä¼šè¢« if è§†ä¸ºå˜é‡ï¼Œè¿›è¡Œå˜é‡å±•å¼€ä¹‹åå†è¯„ä¼°</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>if åŒºåˆ«å¯¹å¾…äº†å˜é‡å’Œå­—ç¬¦ä¸²</strong>ã€‚</p><p>å¯¹äºä¸€ä¸ªè¢«å¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼Œåªæœ‰ä»¥ä¸‹ä¸ºçœŸï¼Œå…¶ä»–éƒ½æ˜¯å‡ï¼š</p><ol><li>ON, Y, YES, TRUEï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼‰</li><li>é 0 çš„æ•°å­—ï¼ˆå¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼‰</li></ol><p>å¯¹äºä¸€ä¸ªå˜é‡å¼•ç”¨ï¼Œåªæœ‰ä»¥ä¸‹ä¸ºå‡ï¼Œå…¶ä»–ä¸ºçœŸï¼š</p><ol><li>OFF, NO, FALSE, N, IGNORE, NOTFOUND</li><li>ä»¥ -NOTFOUND ç»“å°¾çš„å­—ç¬¦ä¸²</li><li>ç©ºå­—ç¬¦ä¸²</li><li>é›¶</li></ol><p>å®æµ‹å¯¹æœªè¢«å¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²è¯„ä¼°é¡ºåºå¦‚ä¸‹ï¼š</p><ol><li>å¦‚æœå­—ç¬¦ä¸²æœ¬èº«æ˜¯çœŸï¼Œåˆ™ä¸ºçœŸ</li><li>å¦åˆ™ï¼Œè‹¥å­˜åœ¨ä¸€ä¸ªåŒåå˜é‡ï¼Œåˆ™è¯„ä¼°è¿™ä¸ªå˜é‡</li><li>å¦åˆ™æŒ‰ç…§æ™®é€šå­—ç¬¦ä¸²æ¥è¯„ä¼°å®ƒ</li></ol><p>while çš„æ¡ä»¶å’Œ if ç›¸åŒã€‚</p><p>foreach RANGE æ“ä½œçš„é»˜è®¤ start æ˜¯ 0ï¼ŒåŒæ—¶æ˜¯åŒ…å« stop çš„ï¼ˆå’Œ C++ ä¸åŒï¼‰ã€‚</p><p>foreach LISTS æ“ä½œæ˜¯å°†åˆ—è¡¨æ‹¼æ¥ï¼Œè€Œ ZIP_LISTS æ˜¯å°†åˆ—è¡¨ zipã€‚</p><ol><li>å¦‚æœåªç»™ä¸€ä¸ªå˜é‡ï¼Œzip ä¹‹åå¯¹äºå˜é‡ <code>VAR</code> å°†ç”Ÿæˆ <code>VAR_0</code>ï¼Œ<code>VAR_1</code> ç­‰å’Œ zip åˆ—è¡¨æ•°é‡ç›¸ç­‰çš„è¿­ä»£å˜é‡ã€‚</li><li>å¦‚æœä¼ å…¥å¤šä¸ªå˜é‡ï¼Œå°†ä¼šä»¥ç»™å®šçš„å˜é‡å‘½åã€‚</li></ol><p><img src=/assets/1fb788cc69b173af6f479db2774a97f8.webp></p><h1 id=å®å’Œå‡½æ•°>å®å’Œå‡½æ•°
<a class=header-anchor href=#%e5%ae%8f%e5%92%8c%e5%87%bd%e6%95%b0></a></h1><p><img src=/assets/74f19071c7f1618f36a423a0f36e8c34.webp></p><p>éšå«å‚æ•°å¦‚å›¾ï¼ˆä¹Ÿç»™æœ‰è‹¥å¹²å…·åå‚æ•°ï¼‰ã€‚<code>ARGN</code> æ˜¯åªåŒ…å«åŒ¿åå‚æ•°ã€‚</p><blockquote><p>å¯¹æ¯”ï¼šCMAKE æœ¬èº«çš„å‘½ä»¤è¡Œçš„å‚æ•°ç”¨ <code>CMAKE_ARGV1</code>, <code>CMAKE_ARGV2</code>, &mldr; å’Œ <code>CMAKE_ARGC</code> æ¥è®¿é—®ã€‚ä¸åƒè¿‡ç¨‹çš„è®¿é—®è¿™ä¹ˆä¸°å¯Œã€‚</p></blockquote><p>è¿‡ç¨‹æœ‰ä¸¤ç§ï¼š1. å® 2. å‡½æ•°</p><h2 id=å®>å®
<a class=header-anchor href=#%e5%ae%8f></a></h2><p>å®çš„æ›¿æ¢æ–¹å¼æ¯”è¾ƒé­”å¹»ï¼Œä¹¦ä¸Šè¯´çš„ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚è¿™é‡Œæ˜¯å®˜æ–¹æ–‡æ¡£ï¼š <a href=https://cmake.org/cmake/help/latest/command/macro.html title=https://cmake.org/cmake/help/latest/command/macro.html rel="noopener external nofollow noreferrer" target=_blank class=exturl>https://cmake.org/cmake/help/latest/command/macro.html<i class="fa fa-external-link-alt"></i></a> æˆ‘çš„å¤§æ¦‚ç†è§£å¦‚ä¸‹ï¼š</p><ol><li>å®<strong>åªå¯¹å‚æ•°çš„å±•å¼€åšæ›¿æ¢</strong>ï¼Œè€Œä¸æ˜¯åƒ C è¯­è¨€ä¸€æ ·ç›´æ¥æŸ¥æ‰¾æ›¿æ¢ï¼Œæ¯”å¦‚ <code>${ARG0}</code> ä¼šè¢«å±•å¼€æˆä¼ ç»™å®çš„å€¼ï¼Œä½†æ˜¯ <code>ARG0</code> è¿™æ ·çš„å•çº¯å‡ºç°çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«å±•å¼€ã€‚</li><li>å®å‚æ•°ä¸æ˜¯å˜é‡ã€‚æ‰€ä»¥ <code>ARGC</code> å¯èƒ½æ˜¯ä¸å­˜åœ¨çš„ï¼ˆé™¤éçœŸçš„æœ‰åŒåå˜é‡ï¼‰ï¼Œè€Œ <code>${ARGC}</code> ä¼šè¢«å±•å¼€æˆå­—ç¬¦ä¸²ã€‚</li></ol><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>cmake_minimum_required</span>(<span style=color:#2aa198>VERSION</span> <span style=color:#2aa198>3.20.0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>macro</span>(<span style=color:#2aa198>Test</span> <span style=color:#2aa198>myVar</span>)
</span></span><span style=display:flex><span>  <span style=color:#b58900>set</span>(<span style=color:#2aa198>myVar</span> <span style=color:#2aa198>&#34;new value&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#b58900>message</span>(<span style=color:#2aa198>&#34;argument: ${myVar}&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>endmacro</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>set</span>(<span style=color:#2aa198>myVar</span> <span style=color:#2aa198>&#34;first value&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>&#34;myVar is now: ${myVar}&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>Test</span>(<span style=color:#2aa198>&#34;called value&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#b58900>message</span>(<span style=color:#2aa198>&#34;myVar is now: ${myVar}&#34;</span>)
</span></span></code></pre></div><p>æ‰“å°ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span>myVar is now: first value
</span></span><span style=display:flex><span>argument: called value
</span></span><span style=display:flex><span>myVar is now: new value
</span></span></code></pre></div><h2 id=å‡½æ•°>å‡½æ•°
<a class=header-anchor href=#%e5%87%bd%e6%95%b0></a></h2><p>function ä¸­å¯ä»¥ä½¿ç”¨ <code>return()</code> æå‰è¿”å›ã€‚è€Œå®æœ¬èº«æ˜¯ç›´æ¥æ›¿æ¢ï¼Œåœ¨å®ä¸­ä½¿ç”¨ <code>return()</code> å°†ä¼šå¯¼è‡´å®è°ƒç”¨å¤„æ‰€åœ¨çš„å‡½æ•°è¢«é€€å‡ºã€‚</p><p>å¦‚æœå·¥ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥åƒ python ä¸€æ ·å®šä¹‰ä¸€ä¸ª <code>main</code> å®ï¼Œç„¶ååœ¨æ–‡ä»¶æœ€åè°ƒç”¨ã€‚</p><p><strong>å®å’Œå‡½æ•°æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„</strong>ã€‚ä»¥ä¸‹æ¥è‡ªå®˜æ–¹æ–‡æ¡£ï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span>The function invocation is case-insensitive. A function defined as
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>function</span>(<span style=color:#2aa198>foo</span>)
</span></span><span style=display:flex><span>  &lt;commands&gt;
</span></span><span style=display:flex><span><span style=color:#b58900>endfunction</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>can be invoked through any of
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>foo</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>Foo</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>FOO</span>()
</span></span><span style=display:flex><span><span style=color:#b58900>cmake_language</span>(<span style=color:#2aa198>CALL</span> <span style=color:#2aa198>foo</span>)
</span></span></code></pre></div><p>å®ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p><h1 id=å®ç”¨å‘½ä»¤>å®ç”¨å‘½ä»¤
<a class=header-anchor href=#%e5%ae%9e%e7%94%a8%e5%91%bd%e4%bb%a4></a></h1><h2 id=message>message
<a class=header-anchor href=#message></a></h2><p><code>FATAL_ERROR</code> å¯ä»¥ç»ˆæ­¢é…ç½®ï¼Œ<code>SEND_ERROR</code> é˜»ç¢ç”Ÿæˆä½†æ˜¯ä¼šç»§ç»­é…ç½®ã€‚</p><p><code>CMAKE_MESSAGE_CONTEXT</code> æ˜¯ä¸€ä¸ªä¼šåœ¨æ¶ˆæ¯å‰çš„åˆ—è¡¨å˜é‡ã€‚å¯ä»¥åœ¨è¿›å…¥ä¸€ä¸ªæ–°çš„å‡½æ•°çš„æ—¶å€™å‘å…¶ä¸­ APPEND å†…å®¹ï¼Œè¿™æ · message å°±èƒ½åœ¨æœ‰ <code>--log-context</code> é€‰é¡¹æ—¶æ‰“å°å‡ºæ›´æœ‰æ•ˆçš„ä¿¡æ¯ã€‚</p><p>åŒç†ï¼Œ<code>CMAKE_MESSAGE_INDENT</code> æ˜¯ç”¨æ¥æ‰“å°ç¼©è¿›çš„ï¼ˆä¸æ˜¯æ•°å­—ç±»å‹ï¼Œè€Œæ˜¯éœ€è¦å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ <code>" "</code>ï¼‰ï¼Œä¸€èˆ¬æ˜¯ç»™ç©ºç™½å­—ç¬¦ã€‚</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-txt data-lang=txt><span style=display:flex><span># zip.cmake
</span></span><span style=display:flex><span>set(L1 &#34;one;two;three;four&#34;)
</span></span><span style=display:flex><span>set(L2 &#34;1;2;3;4;5&#34;)
</span></span><span style=display:flex><span>foreach(num IN ZIP_LISTS L1 L2)
</span></span><span style=display:flex><span>    list(APPEND CMAKE_MESSAGE_CONTEXT j)
</span></span><span style=display:flex><span>    message(STATUS &#34;num_0=${num_0}, num_1=${num_1}&#34;)
</span></span><span style=display:flex><span>endforeach()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># command line
</span></span><span style=display:flex><span>cmake -P zip.cmake --log-context
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># output
</span></span><span style=display:flex><span>-- [j] num_0=one, num_1=1
</span></span><span style=display:flex><span>-- [j.j] num_0=two, num_1=2
</span></span><span style=display:flex><span>-- [j.j.j] num_0=three, num_1=3
</span></span><span style=display:flex><span>-- [j.j.j.j] num_0=four, num_1=4
</span></span><span style=display:flex><span>-- [j.j.j.j.j] num_0=, num_1=5
</span></span></code></pre></div><p>å°†ä¸Šé¢çš„ <code>CMAKE_MESSAGE_CONTEXT</code> æ¢æˆ <code>CMAKE_MESSAGE_INDENT</code>ï¼Œåˆ™æ‰“å°ç»“æœä¸ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span>-- jnum_0=one, num_1=1
</span></span><span style=display:flex><span>-- jjnum_0=two, num_1=2
</span></span><span style=display:flex><span>-- jjjnum_0=three, num_1=3
</span></span><span style=display:flex><span>-- jjjjnum_0=four, num_1=4
</span></span><span style=display:flex><span>-- jjjjjnum_0=, num_1=5
</span></span></code></pre></div><p>è¿™æ®µç¨‹åºè¶³ä»¥ä½“ç° <code>CMAKE_MESSAGE_CONTEXT</code> å’Œ <code>CMAKE_MESSAGE_INDENT</code> çš„åŒºåˆ«ã€‚</p><h2 id=include>include
<a class=header-anchor href=#include></a></h2><p><strong>åœ¨è„šæœ¬æ¨¡å¼ä¸­</strong>é»˜è®¤çš„è·¯å¾„æ˜¯ç›¸å¯¹äº current working directory çš„ï¼Œå¦‚æœæƒ³è¦ç›¸å¯¹è„šæœ¬ï¼Œéœ€è¦ä½¿ç”¨ <code>CMAKE_CURRENT_LIST_DIR</code>ã€‚</p><p>åœ¨å·¥ç¨‹ä¸­è¿˜æ˜¯ä» CMakeLists.txt å¼€å§‹å¯»å€çš„ã€‚</p><p>include å¯ä»¥æœ‰ <code>OPTIONAL</code>ï¼Œè¿™æ ·æ‰¾ä¸åˆ°æ–‡ä»¶ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚è¿™ä¸ªæ—¶å€™æƒ³çŸ¥é“æ˜¯å¦æˆåŠŸå°±éœ€è¦ä½¿ç”¨ <code>RESULT_VARIABLE</code> çš„è¯­æ³•ï¼ˆæ‰¾åˆ°åˆ™å¾—åˆ°è·¯å¾„ï¼Œæ‰¾ä¸åˆ°åˆ™å˜é‡ä¼šè¢«èµ‹å€¼ä¸º <code>NOTFOUND</code>ï¼‰ã€‚</p><p><strong>å¦‚æœç»™çš„ä¸æ˜¯æ–‡ä»¶åï¼Œåˆ™ cmake ä¼šè®¤ä¸ºå®ƒæ˜¯æ¨¡å—åã€‚cmake æœ‰ä¸€å †å†…ç½®æ¨¡å—ï¼Œè€Œå¯¹äºå…¶ä»–æ¨¡å— <code>&lt;module></code>ï¼Œcmake ä¼šåœ¨ <code>CMAKE_MODULE_PATH</code> ä¸­æ‰¾ <code>&lt;module>.cmake</code>ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰ã€‚</strong></p><p><strong><code>include_guard()</code></strong> å‘½ä»¤æœ‰ <code>DIRECTORY</code> å’Œ <code>GLOBAL</code> ä¸¤ç§å‚æ•°ï¼Œæ”¾åœ¨è¢«åŒ…å«æ–‡ä»¶çš„å¼€å¤´ä½¿ç”¨ã€‚</p><p><strong>include ä¸ä¼šåˆ›å»ºæ–°çš„ scope</strong>ï¼å’Œ C è¯­è¨€ä¸€æ ·ç›¸å½“äºæŠŠæ•´ä¸ªæ–‡ä»¶å†…å®¹æ‹¼æ¥è¿›æ¥ã€‚</p><h2 id=file>file
<a class=header-anchor href=#file></a></h2><p>è¯»å†™æ–‡ä»¶ï¼Œè¿˜æ”¯æŒä¸‹è½½ã€‚</p><p><code>GENERATE</code> çš„æ–‡ä»¶æ˜¯ç›¸å¯¹äº build ç›®å½•çš„ã€‚è€Œ <code>WRITE</code> æ˜¯ç›¸å¯¹äºæºç ç›®å½•çš„ã€‚</p><h2 id=execute_process>execute_process
<a class=header-anchor href=#execute_process></a></h2><ul><li>å¯ä»¥æœ‰å¤šä¸ª <code>COMMAND</code>ï¼ˆchainingï¼‰</li><li>å¯ä»¥è®¾ç½®å·¥ä½œè·¯å¾„ï¼ˆä¸€å®šè¦æ­£ç¡®è®¾ç½®ï¼‰</li><li>å¯ä»¥è®¾ç½® <code>TIMEOUT</code></li><li>å¯ä»¥é€šè¿‡ <code>OUTPUT_VARIABLE</code> å’Œ <code>ERROR_VARIABLE</code> è·å–è¾“å‡º</li><li>å¯ä»¥é€šè¿‡ <code>RESULTS_VARIABLE</code> æ¥è·å–æ¯ä¸ªå‘½ä»¤çš„ exit codes</li><li>ç”¨ <code>RESULT_VARIABLE</code> è·å–æœ€åä¸€æ¡å‘½ä»¤çš„ exit codeã€‚</li></ul><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#b58900>execute_process</span>(
</span></span><span style=display:flex><span>  <span style=color:#2aa198>COMMAND</span> <span style=color:#2aa198>timeout</span> <span style=color:#2aa198>0.01</span> <span style=color:#2aa198>yes</span>
</span></span><span style=display:flex><span>  <span style=color:#2aa198>COMMAND</span> <span style=color:#2aa198>wc</span>)
</span></span></code></pre></div><p>è¾“å‡ºä¸ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cmake data-lang=cmake><span style=display:flex><span> 331776  331776  663552
</span></span></code></pre></div><blockquote><p><strong>The execute_process() command is a newer more powerful version of exec_program()</strong> , but the old command has been kept for compatibility. Both commands run while CMake is processing the project prior to build system generation.</p></blockquote></div><footer class=post-footer><div class=post-tags><a href=/tags/cmake>cmake
</a><a href=/tags/cpp>cpp
</a><a href=/tags/modern-cmake-for-cpp>modern-cmake-for-cpp</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/modern-cmake-for-cpp/chapter01-basic/ rel=next title="chapter01 - basic"><i class="fa fa-chevron-left"></i> chapter01 - basic</a></div><div class="post-nav-prev post-nav-item"><a href=/modern-cmake-for-cpp/chapter02.a-%E6%80%BB%E7%BB%93%E5%B8%B8%E7%94%A8%E7%9A%84-CMake-%E5%8F%98%E9%87%8F/ rel=prev title="chapter02.a - æ€»ç»“å¸¸ç”¨çš„ CMake å˜é‡">chapter02.a - æ€»ç»“å¸¸ç”¨çš„ CMake å˜é‡
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2023 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>ğŸ¤–</span></div><div class=powered-by>ç”± <a href=https://gohugo.io title=0.143.1 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨</div></div></footer><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":false,"save":"manual"},"copybtn":true,"darkmode":false,"hostname":"https://hxhue.github.io/","i18n":{"ds_day":" å¤©å‰","ds_days":" å¤© ","ds_hour":" å°æ—¶å‰","ds_hours":" å°æ—¶ ","ds_just":"åˆšåˆš","ds_min":" åˆ†é’Ÿå‰","ds_mins":" åˆ†é’Ÿ","ds_month":" ä¸ªæœˆå‰","ds_years":" å¹´ ","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","placeholder":"æœç´¢..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":false,"transition":{"collheader":"fadeInLeft","menu_item":"fadeInDown","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":false,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"cdnjs","router":"https://cdnjs.cloudflare.com/ajax/libs"},"version":"4.5.3"}</script><script type=text/javascript src=/js/main.min.37ba8b54f9d4d784d08028c45eea93b5d4e13eda8ee7fb0d2edd6f3fac66cfd2.js defer></script></body></html>